EasyDeploy Commands

    Command Support
    activate-file
    backup configuration interval
    batch-cmd begin
    clear topology-error-info
    client
    client aging-time
    client auto-clear enable
    client auto-join enable
    client replace
    cluster
    cluster enable
    cluster-multimac
    configuration-file
    custom-file
    display easy-operation batch-cmd result
    display easy-operation client
    display easy-operation client replace
    display easy-operation configuration
    display easy-operation device-information
    display easy-operation download-status
    display easy-operation group
    display easy-operation power
    display easy-operation topology
    display ndp
    display ntdp
    display ntdp device-list
    display cluster-topology-info
    easy-operation
    easy-operation client ftp-server
    easy-operation client ftp-server-url
    easy-operation client netfile
    easy-operation client sftp-server
    easy-operation client sftp-server-url
    easy-operation client snmp securityname
    easy-operation client tftp-server
    easy-operation client tftp-server-url
    easy-operation client vlan
    easy-operation client ztp-with-cfg enable
    easy-operation commander enable
    easy-operation commander ip-address
    easy-operation dtls disable
    easy-operation dtls psk
    easy-operation shared-key
    execute to
    group build-in
    group custom
    license
    match
    mngvlanid
    ndp enable (interface view)
    ndp enable (system view)
    ndp timer aging
    ndp timer hello
    ndp trunk-member enable
    ntdp enable (interface view)
    ntdp enable (system view)
    ntdp explore
    ntdp hop
    ntdp timer
    ntdp timer hop-delay
    ntdp timer port-delay
    patch
    reset easy-operation client-database
    reset easy-operation client-offline
    reset ndp statistics
    system-software
    tftp-server/sftp-server/ftp-server
    topology enable
    topology save
    undo group
    upgrade group
    web-file
    module

Command Support

Commands provided in this section and all the parameters in the commands are supported by all switch models (except the S5751-L, S5731-L, and S5731S-L), unless otherwise specified. For details, see specific commands.

Switches' support for the commander and client roles in EasyDeploy application is as follows:

Role
	

Product Model
	

Version
	

Maximum Number of Managed Clients

Commander
	

S12700
	

V200R005C00 and later
	

255

S12700E
	

V200R019C00 and later
	

255

S7700
	

V200R003C00 and later
	

255

S9700
	

V200R003C00 to V200R013C00
	

255

S5700-HI
	

V200R003C00 to V200R005C00
	

128

S5710-HI
	

V200R003C00 to V200R005C00
	

128

S6700-EI
	

V200R003C00 to V200R005C00
	

128

S5700-EI
	

V200R003C00 to V200R005C00
	

64

S5710-EI
	

V200R003C00 to V200R005C00
	

64

S5720-HI
	

V200R006C00 to V200R019C10
	

128

S5720-EI
	

V200R007C00 to V200R019C10
	

128

S5730-HI
	

V200R012C00 to V200R019C10
	

128

S5731-H
	

V200R013C02 and later
	

128

S5731-S
	

V200R019C00 and later
	

128

S5731S-S
	

V200R019C00 and later
	

128

S5731S-H
	

V200R019C00 and later
	

128

S5732-H
	

V200R019C00 and later
	

128

S6720-EI
	

V200R008C00 to V200R023C00
	

128

S6720S-EI
	

V200R009C00 to V200R023C00
	

128

S6720-HI
	

V200R012C00 to V200R019C10
	

128

S6730-H
	

V200R013C02 and later
	

128

S6730S-H
	

V200R019C10 and later
	

128

S6730-S
	

V200R019C00 and later
	

128

S6730S-S
	

V200R019C00 and later
	

128

S6735-S
	

V200R021C00SPC600 and later
	

128

Client
	

    All fixed switch models except S1720GFR, S1720X, S1720GW-E, S1720GWR-E, S1720X-E, S1730S-S1, and S1720X-Eexcept S5751-L, S5731-L, and S5731S-L
    All modular switch models

	

V200R003C00 and later
	

-
activate-file
Function

The activate-file command sets the file activation mode and time on the Commander.

The undo activate-file command restores the default file activation mode and time.

By default, if downloaded files include the system software (*.cc), devices immediately activate all files by resetting. In addition, if the downloaded files in the batch upgrade scenario include the configuration file, the devices also activate files immediately by resetting.
Format

activate-file { reload | { in time | delay delay-time } } *

undo activate-file [ reload | in [ time ] | delay [ delay-time ] ]
Parameters
Parameter 	Description 	Value

reload
	

Indicates that the device activates files by resetting.
	

-

in time
	

Indicates the time when the device activates files.
	

The format is HH:MM, in which HH indicates hour ranging from 0 to 23 and MM indicates minute ranging from 0 to 59.

delay delay-time
	

Indicates the delay after which the device activates files.
	

The value is an integer that ranges from 0 to 86400, in seconds. The default is 0.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

If clients use the default method to activate files, network services will be affected. This issue is especially prominent in the batch upgrade scenario where each upgraded device may carry a lot of services. Resetting these devices will interrupt services. Therefore, the devices should activate files when service volume is small.

Precautions

    If the reload parameter is specified, the client activates files by resetting regardless of whether downloaded files include the system software.
    The undo activate-file command restores the default file activation mode and time. If the reload, in, and delay parameters are specified in the undo activate-file command, the default configurations are restored.
    The file activation mode can be set in the Easy-Operation view or group view. If the client matches a group, the configuration in the group view takes effect for the client.

Example

# Set the file activation mode to reset.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] activate-file reload

# Set the file activation delay to one hour.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] activate-file delay 3600

# Set the file activation mode to reset and time to 1:00 am.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] activate-file in 1:00 reload

# Set the file activation mode to reset and time to 1:00 am for group F1.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom ip-address F1
[HUAWEI-easyoperation-group-custom-F1] activate-file in 1:00 reload

backup configuration interval
Function

The backup configuration interval command enables automatic configuration file backup on the Commander and sets the backup interval and method.

The undo backup configuration command disables automatic configuration file backup.

By default, the configuration file is not automatically backed up.
Format

backup configuration interval interval [ duplicate ]

undo backup configuration [ interval [ interval ] ] [ duplicate ]
Parameters
Parameter 	Description 	Value

interval
	

Indicates the backup interval.
	

The value is an integer that ranges from 0 to 720, in hours.

The default value is 0, indicating that clients do not automatically back up configuration files.

duplicate
	

Indicates that the backup file is saved as a new file, and the original configuration file is not overwritten.

If this parameter is not specified, the original configuration file is overwritten by the backup file.
	

-
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a faulty client is replaced by a new client, the new client needs to obtain the latest configuration file of the faulty client to minimize impact on service. Therefore, all clients should periodically back up their configuration files to the file server.

This function must be configured before any fault occurs. It is recommended that you configure this function when deploying the network.

Prerequisites

The file server information has been configured on the Commander using the tftp-server/sftp-server/ftp-server command.

Precautions

    After this function is configured, all clients managed by the Commander will automatically back up configuration files.
    To disable this function, run the undo backup configuration [ interval [ interval ] ] or undo backup configuration interval duplicate command, or set the file backup interval to 0.
    If you do not want to keep the original configuration files, run the undo backup configuration duplicate command to make the backup files overwrite the original files.

    The naming convention of the configuration files is as follows:

        If the backup files are saved as new files, name the new files in format vrpcfg-MAC address-year-month-day-hour-minute-second.XXX. XXX is the file name extension, which must be the same as the configuration file name extension being used on the client. For example, if the startup configuration file on a client is vrpcfg.zip, the backup file is named in format vrpcfg-MAC address-year-month-day-hour-minute-second.zip.

        If the backup files overwrite the original files, name the backup files in format vrpcfg-MAC address.XXX. XXX is the file name extension, which must be the same as the configuration file name extension being used on the client.

Example

# Set the file backup interval to 12 hours and overwrite the original files with backup files.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] backup configuration interval 12

# Disable automatic configuration file backup.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] backup configuration interval 0
Warning: This command will cancel the function of backing up configuration. Cont
inue?[Y/N]:y
[HUAWEI-easyoperation]

batch-cmd begin
Function

The batch-cmd begin command starts online command script editing.
Format

batch-cmd begin
Parameters

None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

In a batch device deployment scenario, you can run this command to start online command script editing. After editing the commands, press Ctrl+C to exit the editing mode. If you run this command again, the edited commands will be cleared.
Precautions

    Only one network administrator is allowed to edit commands online at one time.
    If no operation is performed in command editing mode within 30 seconds, you automatically exit from the editing mode to the Easy-Operation view.

Example

# Start online command script editing.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] batch-cmd begin
Info: Begin to edit batch commands. Press CTRL+C to abort this session.
system-view
vlan batch 10 20
ndp enable
ntdp enable                                                                
              
[HUAWEI-easyoperation]

clear topology-error-info
Function

The clear topology-error-info command clears faulty link information from the topology.
Format

clear topology-error-info
Parameters

None
Views

Cluster view
Default Level

2: Configuration level
Usage Guidelines

The clear topology-error-info command can be run only on the Commander switch.

After a faulty client recovers, run this command to clear faulty link information from the topology. To view the topology information, run the display cluster-topology-info command.
Example

# Clear information about faulty links and sub-links.

<HUAWEI> system-view
[HUAWEI] cluster
[HUAWEI-cluster] display cluster-topology-info
The topology information about the cluster:
<-->:normal device         <++>:candidate device         <??>:lost device
-------------------------------------------------------------------------
Total topology node number is 3.
[HUAWEI: Root-00e0-fcb8-d6b6]
|-(GigabitEthernet0/0/2)<??>(GigabitEthernet0/0/1)[00e0-fc67-7f7d]
|-(GigabitEthernet0/0/3)<-->(GigabitEthernet0/0/3)[00e0-fc03-0003]
[HUAWEI-cluster] clear topology-error-info
[HUAWEI-cluster] display cluster-topology-info
The topology information about the cluster:
<-->:normal device         <++>:candidate device         <??>:lost device
-------------------------------------------------------------------------
Total topology node number is 2.
[HUAWEI: Root-00e0-fcb8-d6b6]
|-(GigabitEthernet0/0/3)<-->(GigabitEthernet0/0/3)[00e0-fc03-0003] 

client
Function

The client command adds information to the client database or modifies information in the client database.

The undo client command deletes information from the client database.

By default, the client database does not contain client information.
Format

client [ client-id ] { { mac-address mac-address | esn esn } | system-software file-name [ version ] | patch file-name | configuration-file file-name | web-file file-name | license file-name | { custom-file file-name } &<1-3> } *

undo client client-id [ mac-address [ mac-address ] | esn [ esn ] | system-software [ file-name [ version ] ] | patch [ file-name ] | configuration-file [ file-name ] | web-file [ file-name ] | license [ file-name ] | custom-file [ file-name ] ]
Parameters
Parameter 	Description 	Value

client-id
	

Specifies the client ID, which identifies a client. If this parameter is not specified when you add client information, the system assigns the minimum ID not in use to the client.
	

The value is an integer. It depends on the maximum number of clients supported by the Commander.

For details, see Maximum Number of Managed Clients on the Commander.

mac-address mac-address
	

Specifies the MAC address of the client.
	

The value is in the H-H-H format, where each H contains four hexadecimal digits.

esn esn
	

Specifies the ESN of the client.
	

The value is a string of 10 to 32 case-insensitive characters without spaces.

system-software file-name
	

Specifies the name of the system software (*.cc) to be loaded to the client.
	

The value is a string of 4 to 48 case-insensitive characters without spaces.

version
	

Specifies the version of a system software package, for example, V200R024C00. If the specified software version is the same as the software version running on the client, a software upgrade will not be performed for the client.
	

The value is a string of 11 to 32 case-insensitive characters without spaces.

patch file-name
	

Specifies the name of the patch file (*.pat) to be loaded to the client.
	

The value is a string of 5 to 48 case-insensitive characters without spaces.

configuration-file file-name
	

Specifies the name of the configuration file (*.zip or *.cfg) to be loaded to the client.
	

The value is a string of 5 to 48 case-insensitive characters without spaces.

web-file file-name
	

Specifies the name of the web page file (*.web.7z or *.web.zip) to be loaded to the client.
	

The value is a string of 8 to 64 case-insensitive characters without spaces.

license file-name
	

Specifies the name of the license file (*.dat) to be loaded to the client.
NOTE:

The license file is not supported in the Easy-Operation view. The file does not take effect even if you configure it.
	

The value is a string of 5 to 64 case-insensitive characters without spaces.

custom-file file-name
	

Specifies the name of the user-defined file to be loaded to the client.

A maximum of three user-defined files can be specified. The file names are separated by spaces.
	

The value is a string of 1 to 64 case-insensitive characters without spaces.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

If a few zero touch clients need to be deployed on a network, you can run this command multiple times to add client information one by one.

Precautions

    Clients search the matching database by searching for their MAC addresses or ESNs in the database; therefore, the mappings between clients and MAC addresses or ESNs must be configured. When a client finds a matching database, it obtains information mapping its client ID, including system software name and patch file name.
    This command can be executed once or multiple times to configure the mappings between clients and MAC addresses or ESNs and specify information about the files to be downloaded.
    To delete all information about a client, run the undo client client-id command. To delete an item from a client's information, run the undo command with the item specified.

    When parameters are specified in this undo command to delete specified information, this command takes effect only for the manually configured clients.
    Each Commander supports a limited number of clients; therefore, the client information that can be added to the client database is also limited.
    You can specify a path for each file.

Example

# Add client information in which MAC address is 00e0-fc12-3456, configuration file is vrpcfg.zip, and file path is /configfile/.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] client mac-address 00e0-fc12-3456 configuration-file configfile/vrpcfg.zip

# Add client information in which client ID is 3, ESN is 210235165110xxxxxxxx, system software name is test.cc, and user-defined file names are header.txt and aaa.bat.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] client 3 esn 210235165110xxxxxxxx
[HUAWEI-easyoperation] client 3 system-software test.cc
[HUAWEI-easyoperation] client 3 custom-file header.txt custom-file aaa.bat

# Delete the configuration file of the client with client ID 4.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] undo client 4 configuration-file

# Delete all information about the client with client ID 5.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] undo client 5

client aging-time
Function

The client aging-time command ages the lost state clients in the client database and specifies the aging time.

The undo client aging-time command cancels the configuration.

By default, the lost state clients in the client database are not aged.
Format

client aging-time aging-time

undo client aging-time [ aging-time ]
Parameters
Parameter 	Description 	Value
aging-time 	Specifies the aging time for clients in the lost state. 	The value is an integer that ranges from 72 to 720, in hours.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

Information about clients configured by the network administrator or automatically learned is saved in the client database. The Commander considers that a client to be in the lost state if the client does not respond after two minutes.

The maximum number of clients managed by the Commander depends on the device specifications. If the number of clients exceeds the upper limit, new client information cannot be configured on the Commander. To prevent clients in the lost state from occupying the database resources for a long time, enable the function of aging lost state clients. When the aging time expires, lost state clients are deleted. If some clients in the lost state occupy the database resources for a long time, run the reset easy-operation client-offline command to delete these clients.
Precautions

    Automatically learned clients are deleted after their aging time expires.
    Manually configured clients are not deleted but their status changes to unknown.

Example

# Enable the function of aging lost state clients and set the aging time to 72 hours.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] client aging-time 72

client auto-clear enable
Function

The client auto-clear enable command enables clients to automatically clear storage space. This command is run on the Commander.

The undo client auto-clear enable command disables clients from clearing storage space.

By default, this function is disabled on the Commander.
Format

client auto-clear enable

undo client auto-clear enable
Parameters

None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

If storage space on a client is insufficient, the client cannot download files. This command enables clients to automatically clear storage space to ensure a sufficient storage space.

Precautions

    Clients clear storage space only when the storage space is insufficient for a system software package. In addition, they only delete non-startup system software packages to create space.

    This function is invalid for certain file server types. If the file server is a TFTP server, this function does not take effect because the TFTP server does not return file size to clients. If an FTP or SFTP server cannot return file size, this function does not take effect, either. An S switch serving as an FTP or a TFTP file server does not support the function of returning file size.

Example

# Enable clients to automatically clear storage space.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] client auto-clear enable

client auto-join enable
Function

The client auto-join enable command enables clients to automatically join the management domain of a Commander. This command is run on the Commander.

The undo client auto-join enable command disables clients from joining the management domain of a Commander.

By default, clients do not automatically join the Commander management domain.
Format

client auto-join enable

undo client auto-join enable
Parameters

None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After this function is enabled and the Commander IP address is configured on clients, the Commander automatically learns the basic information about clients, saves the information to the client database, and assigns a client ID to each client.

Client information learned by the Commander includes MAC addresses, ESNs, IP addresses, device types, device models, current system software names, configuration files, and patch files on the clients. The Commander monitors and manages basic information and version files of all clients in the management domain.

In batch upgrade scenario, you can determine the devices to be upgraded according to the client information.

To prevent unknown clients from joining the management domain, disable this function.

Precautions

    In the batch upgrade scenario, run the easy-operation commander ip-address command to configure the Commander IP address on the clients.

    In the zero touch device deployment or faulty device replacement scenario, if you require that the clients still be managed by the Commander after completing the EasyDeploy process, add the Commander IP address to the configuration file to be downloaded by the clients.
    To view the client information learned by the Commander, run the display easy-operation client command.
    If the learned client information already exists in the client database (statically configured using client), the client database is updated.
    After information about a client is stored in the client database, the client status becomes LOST if the client goes offline. When the client goes online, the client joins the management domain again and its status becomes Running.

Example

# Enable clients to automatically join the management domain of a Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] client auto-join enable
Warning: The commander will create the client information in database automatica
lly when received message from unknown client. Continue? [Y/N]: y
[HUAWEI-easyoperation] 

client replace
Function

The client replace command adds or modifies client replacement information.

The undo client replace command deletes client replacement information.

By default, no client replacement information exists.
Format

client client-id replace { [ mac-address mac-address | esn esn ] | system-software file-name [ version ] | patch file-name | web-file file-name | license file-name | { custom-file file-name } &<1-3> } *

undo client client-id replace [ mac-address [ mac-address ] | esn [ esn ] | system-software [ file-name [ version ] ] | patch [ file-name ] | web-file [ file-name ] | license [ file-name ] | custom-file [ file-name ] ]
Parameters
Parameter 	Description 	Value
client-id 	Indicates the ID of a faulty client. 	The value is an integer. It depends on the maximum number of clients supported by the Commander.

For details, see Maximum Number of Managed Clients on the Commander.
mac-address mac-address 	Indicates the MAC address of the new client. 	The value is in the H-H-H format, where each H contains four hexadecimal digits.
esn esn 	Indicates the ESN of the new client. 	The value is a string of 10 to 32 case-insensitive characters without spaces.
system-software file-name 	Specifies the name of the system software (*.cc) to be loaded to the new client. 	The value is a string of 4 to 48 case-insensitive characters without spaces.
version 	

Specifies the version of a system software package, for example, V200R024C00. If the specified software version is the same as the software version running on the client, a software upgrade will not be performed for the client.
	The value is a string of 11 to 32 case-insensitive characters without spaces.
patch file-name 	Specifies the name of the patch file (*.pat) to be loaded to the new client. 	The value is a string of 5 to 48 case-insensitive characters without spaces.
web-file file-name 	Specifies the name of the web page file (*.web.7z or *.web.zip) to be loaded to the new client. 	The value is a string of 8 to 64 case-insensitive characters without spaces.
license file-name 	Specifies the name of the license file (*.dat) to be loaded to the new client.
NOTE:

The license file is not supported in the Easy-Operation view. The file does not take effect even if you configure it.
	The value is a string of 5 to 64 case-insensitive characters without spaces.
custom-file file-name 	

Specifies the name of the user-defined file to be loaded to the new client.

A maximum of three user-defined files can be specified. The file names are separated by spaces.
	The value is a string of 1 to 64 case-insensitive characters without spaces.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

If a client becomes faulty due to a hardware failure, run this command to add replacement information for the faulty client. After a new client is installed on the network to replace the faulty client, the new client can quickly obtain the configuration file of the faulty client, minimizing impact on services. You can also specify other files that can be loaded on the new client.

Precautions

    A new client finds matching replacement information by searching for its own MAC address or ESN; therefore, the mapping between the new client and MAC address or ESN must be configured. After finding matching information, the new client downloads the configuration file and other specified files of the faulty client from the file server.
    Before replacing the faulty client with a new client, ensure that the EasyDeploy function has been configured on the network and the backup configuration interval command has been run on the Commander to enable automatic configuration file backup. If this command has not been run, the new client cannot obtain the latest configuration file of the faulty client.
    This command can be run once or multiple times to configure the mappings between the new client and MAC address or ESN and specify information about the files to be downloaded.
    To delete all replacement information about a client, run the undo client client-id replace command. To delete an item from a client's replacement information, run the undo command with the item specified.
    This command is not recorded in the configuration file.

Example

# Replace client 3 with a client that has a MAC address xxxx-xxxx-xxxx. The new client only needs to download the configuration file of client 3.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] client 3 replace mac-address xxxx-xxxx-xxxx

# Replace client 3 with a client that has a MAC address xxxx-xxxx-xxxx. The new client needs to download the configuration file, system software, and user-defined file of client 3.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] client 3 replace mac-address xxxx-xxxx-xxxx
[HUAWEI-easyoperation] client 3 replace system-software test.cc V200R024C00
[HUAWEI-easyoperation] client 3 replace custom-file header.txt custom-file aaa.bat

cluster
Function

The cluster command displays the cluster view.
Format

cluster
Parameters

None
Views

System view
Default Level

2: Configuration level
Usage Guidelines

After entering the cluster view on the Commander, you can configure a cluster management VLAN and then configure the Commander as the network topology collection device so that the Commander only collects topology information of clients in the VLAN.
Example

# Enter the cluster view.

<HUAWEI> system-view

[HUAWEI] cluster

[HUAWEI-cluster]

cluster enable
Function

The cluster enable command enables the cluster function.

The undo cluster enable command disables the cluster function.

The cluster disable command disables the cluster function.

By default, the cluster function is enabled.
Format

cluster enable

undo cluster enable

cluster disable
Parameters

None
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Before configuring the Commander as the network topology collection device, you need to configure a cluster management VLAN in the cluster view on the Commander so that the Commander only collects topology information of clients in the VLAN. Before configuring a cluster management VLAN on an S series switch, you must run the cluster enable command to enable the cluster function so that you can enter the cluster view.
Example

# Enable the cluster function on a device.

<HUAWEI> system-view

[HUAWEI] cluster enable

cluster-multimac
Function

The cluster-multimac command assigns a multicast address to a cluster.

The undo cluster-multimac command restores the default multicast address of the cluster.

By default, the multicast address of the cluster is 0180-C200-000A.
Format

cluster-multimac mac-address

undo cluster-multimac
Parameters
Parameter 	Description 	Value
mac-address 	Specifies the multicast MAC address of a cluster. 	The value is in the format of H-H-H. Each H stands for a 4-digit hexadecimal number. The value ranges from 0180-C200-0004 to 0180-C200-0007, 0180-C200-0009 to 0180-C200-0010 and 0180-C200-0020 to 0180-C200-002F. The default value is 0180-C200-000A.
Views

Cluster view
Default Level

2: Configuration level
Usage Guidelines

Before setting up a cluster, you need to assign a multicast MAC address to the cluster or use the default multicast MAC address. To enhance the network security or if the default multicast MAC address is being used by other services on the network, you can reassign a multicast MAC address to the cluster within the permitted range. Once the cluster is set up, you cannot change the multicast MAC address of the cluster. All the devices in the cluster must be assigned the same multicast MAC address.
Example

# Assign multicast address 0180-c200-0004 to a cluster.

<HUAWEI> system-view

[HUAWEI] cluster

[HUAWEI-cluster] cluster-multimac 0180-c200-0004

# Restore the default multicast address of the cluster.

<HUAWEI> system-view

[HUAWEI] cluster

[HUAWEI-cluster] undo cluster-multimac

configuration-file
Function

The configuration-file command specifies the configuration file information to be downloaded by clients.

The undo configuration-file command deletes information about the configuration file to be downloaded.
Format

configuration-file file-name

undo configuration-file [ file-name ]
Parameters
Parameter 	Description 	Value

file-name
	

Specifies the name of the configuration file (*.zip or *.cfg) to be loaded to the client. A file path can be specified.
	

The value is a string of 5 to 48 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

To deploy a zero touch client or reload a configuration file to clients, use this command to specify the configuration file.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

The names of the files to be downloaded cannot be the same as system configuration files. Otherwise, the upgrade fails.
Example

# Configure the default configuration file information.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] configuration-file easy/vrpcfg.zip

# Configure the configuration file information for a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] configuration-file vrpcfg.zip

custom-file
Function

The custom-file command specifies a user-defined file to be downloaded by clients.

The undo custom-file command deletes the configured user-defined file information.
Format

{ custom-file file-name } &<1-3>

undo custom-file [ file-name ]
Parameters
Parameter 	Description 	Value
file-name 	

Specifies the name of a user-defined file to be loaded to the client. A file path can be specified.

A maximum of three user-defined files can be specified. The file names are separated by spaces.
	The value is a string of 1 to 64 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to download user-defined files, such as batch processing file and login header file, use this command.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

The names of the files to be downloaded cannot be the same as system user-defined files. Otherwise, the upgrade fails.
Example

# Configure the default user-defined file information.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] custom-file easy/mydoc.bat

# Configure the user-defined file information for a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] custom-file mydoc.bat custom-file header.txt

display easy-operation batch-cmd result
Function

The display easy-operation batch-cmd result command displays the batch configuration execution result.
Format

display easy-operation batch-cmd result
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

To check the batch configuration execution result, run the display easy-operation batch-cmd result command. The result is saved in the memory of clients. If the script contains commands used to clear the client memory, such as the reboot command, the result cannot be checked using the display easy-operation batch-cmd result command after the commands are delivered to clients.
Example

# Display the execution result of batch configuration.

<HUAWEI> display easy-operation batch-cmd result
This operation will take some seconds, please wait......
-------------------------------------------------------------
  ID   Total  Successful     Failed    Time                  
-------------------------------------------------------------
   1      10          10          0    2013-09-12  12:57:02  
   2      10          10          0    2013-09-12  12:57:02  
   3      10          10          0    2013-09-12  12:57:02  
-------------------------------------------------------------

Table 2-3 Description of the display easy-operation batch-cmd result command output
Item 	Description
ID 	Client ID.
Total 	Total number of commands delivered.
Successful 	Number of commands successfully executed.
Failed 	Number of commands failed to be executed.
Time 	Time when command execution was complete on the client.
display easy-operation client
Function

The display easy-operation client command displays client information on the Commander.
Format

display easy-operation client [ client-id | mac-address mac-address | esn esn | verbose ]
Parameters
Parameter 	Description 	Value

client-id
	

Displays detailed information about a client with a specified client ID.
	

The value is an integer. It depends on the maximum number of clients supported by the Commander.

For details, see Maximum Number of Managed Clients on the Commander.

mac-address mac-address
	

Displays detailed information about a client with a specified MAC address.
	

The value is in the H-H-H format, where each H contains four hexadecimal digits.

esn esn
	

Displays detailed information about a client with a specified ESN.
	

The value is a string of 10 to 32 case-insensitive characters without spaces.

verbose
	

Displays detailed information about all clients.
	

-
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

This command displays client information that the Commander dynamically obtains from a client, including the client's host name, MAC address, ESN, IP address, device type, and information about the files that have been downloaded to the client.

If the client state is UNKNOWN in the command output, the displayed MAC address and ESN are manually configured. If the client state is not UNKNOWN, the displayed MAC address and ESN values are dynamically obtained from the client. To modify the configuration of a client in a state other than UNKNOWN to match a new device, run the undo client client-id command to delete the current client configuration first.

If no optional parameter is specified in the command, the command displays brief client information dynamically obtained from the client database.
Example

# Display brief client information.

<HUAWEI> display easy-operation client
The total number of client is : 4                                               
                                                                                
------------------------------------------------------------------------------- 
 ID   Mac address    ESN                              IP address       State    
------------------------------------------------------------------------------- 
 1    00E0-FC12-ABCD 2102113089P0xxxxxxxx             192.168.150.208  RUNNING     
 2    00E0-FC12-0701 -                                -                INITIAL  
 3    -              210235182810xxxxxxxx             192.168.150.210  INITIAL
 4    00E0-FC12-2123 210235276310xxxxxxxx             192.168.150.122  RUNNING
------------------------------------------------------------------------------- 

# Display detailed information about the client with MAC address 00e0-fc12-3456.

<HUAWEI> display easy-operation client mac-address 00e0-fc12-3456
---------------------------------------------------------------------------     
 Client ID                    : 4                                               
 Host name                    : HUAWEI
 Mac address                  : 00e0-fc12-3456                                  
 ESN                          : 210235276310xxxxxxxx                            
 IP address                   : 192.168.150.122                                 
 Model                        : S5728C-EI             
 Device Type                  : S5700-EI                   
 System-software file         : flash:/s5700-ei-v200r003c00.cc               
 System-software version      : V200R003C00
 Configuration file           : flash:/122.cfg                                  
 Patch file                   : -                                               
 WEB file                     : -                                               
 License file                 : -                                               
 System CPU usage             : 6%                                              
 System Memory usage          : 55% 
 Backup configuration file    : -                                               
 Backup result                : -                                      
 Last operation result        : -                                      
 Last operation time          : 0000-00-00  00:00:00 
 State                        : RUNNING                                         
 Aging time left (hours)      : - 
----------------------------------------------------------------------------     

Table 2-4 Description of the display easy-operation client command output

Item
	

Description

ID/Client ID
	

Client ID.

Host name
	

Client host name.

Mac address
	

Client MAC address.

ESN
	

Client ESN.

IP address
	

Client IP address.

State
	

Client status.

    INITIAL: The client is performing initialization. The client information has been added to the Commander, but the client has not obtained an IP address, so the client cannot communicate with the Commander.
    UPGRADING: The client is upgrading the software.
    RUNNING: The client is running.
    LOST: The Commander does not receive the response from the client in 2 minutes. A stack enters the LOST state when its system MAC address changes.
    CONFIGURING: Batch configuration status.
    UNKNOWN: The client status is unknown. This state rarely appears.

Model
	

Device model of the client.

Device Type
	

Device type of the client.

System-software file
	

Current system software name of the client.

System-software version
	

Current system version of the client.

Configuration file
	

Current configuration file name of the client.

Patch file
	

Current patch file name of the client.

WEB file
	

Current web page file name of the client.

License file
	

Current license file name of the client.

System CPU usage
	

CPU usage of the client.

System Memory usage
	

Memory usage of the client.

Backup configuration file
	

Current backup configuration file name of the client.

Last operation result
	

Last operation result.

Last operation time
	

Last operation time.

Backup result
	

File backup result.

Aging time left
	

Remaining aging time.
display easy-operation client replace
Function

The display easy-operation client replace command displays client replacement information on the Commander.
Format

display easy-operation client replace [ verbose ]

display easy-operation client client-id replace
Parameters
Parameter 	Description 	Value

verbose
	

Displays detailed client replacement information.
	

-

client-id
	

Displays replacement information about a client with a specified client ID.
	

The value is an integer. It depends on the maximum number of clients supported by the Commander.

For details, see Maximum Number of Managed Clients on the Commander.
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

The display easy-operation client command displays brief client replacement information.

The replacement information is configured using the client replace command.
Example

# Display brief client replacement information.

<HUAWEI> display easy-operation client replace
The total number of replacement information is :  1                             
                                                                                
-----------------------------------------------------------                     
  ID      Replaced Mac     Replaced Esn     Status                              
-----------------------------------------------------------                     
  3       00e0-fc12-3456   -                enable                              
-----------------------------------------------------------                     

# Display detailed client replacement information.

<HUAWEI> display easy-operation client replace verbose 
-----------------------------------------------------------                     
 Client ID            : 3                                                       
 Mac address          : 00e0-fc12-3456                                
 ESN                  : -                                                       
 System-software file : -                                                       
 Configuration file   : 1.cfg                                                   
 Patch file           : -                                                       
 WEB file             : -                                                       
 License file         : -                                                       
 Customs file 1       : header.txt                                              
 Customs file 2       : aaa.bat                                                 
 Customs file 3       : 1                                                       
 Status               : disable                                                 
-----------------------------------------------------------                     

# Display replacement information of client 3.

<HUAWEI> display easy-operation client 3 replace
-----------------------------------------------------------                     
 Client ID            : 3                                                       
 Mac address          : 00e0-fc12-3456                                          
 ESN                  : -                                                       
 System-software file : -                                                       
 Configuration file   : 1.cfg                                                   
 Patch file           : -                                                       
 WEB file             : -                                                       
 License file         : -                                                       
 Customs file 1       : header.txt                                              
 Customs file 2       : aaa.bat                                                 
 Customs file 3       : 1                                                       
 Status               : disable                                                 
-----------------------------------------------------------                     

Table 2-5 Description of the display easy-operation client replace command output

Item
	

Description

ID/Client ID
	

Faulty client ID.

Replaced Mac/Mac address
	

New client MAC address.

Replaced Esn/ESN
	

New client ESN.

System-software file
	

System software to be downloaded by the new client.

Configuration file
	

Configuration file to be downloaded by the new client.

Patch file
	

Patch file to be downloaded by the new client.

WEB file
	

Web page file to be downloaded by the new client.

License file
	

License file to be downloaded by the new client.

Customs file 1
	

First user-defined file to be downloaded by the new client.

Customs file 2
	

Second user-defined file to be downloaded by the new client.

Customs file 3
	

Third user-defined file to be downloaded by the new client.

Status
	

Status of the replacement.

    enable: This function is enabled.
    disable: This function is not enabled.

display easy-operation configuration
Function

The display easy-operation configuration command displays the configurations on the Commander.
Format

display easy-operation configuration
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

This command can be run on the Commander or clients.

    When the command is run on the Commander, the Commander role, Commander IP address and port number, file server information, and default downloaded file information are displayed.
    When the command is run on a client, the client role and Commander IP address and port number are displayed.

Example

# Display EasyDeploy configuration on the Commander.

<HUAWEI> display easy-operation configuration
---------------------------------------------------------------------------     
 Role                            : Commander                                     
 Commander IP address            : 192.168.150.128                               
 Commander UDP port              : 60000                                         
 DTLS status                     : Enable
 IP address of file server       : 192.168.150.200                               
 Type of file server             : SFTP                                           
 Username of file server         : admin                                         
 Default system-software file    : test.cc                                       
 Default system-software version : -                          
 Default configuration file      : -                                           
 Default patch file              : -                                           
 Default WEB file                : -                                              
 Default license file            : test.dat                                       
 Default custom file 1           : mydoc.pat                                     
 Default custom file 2           : header.txt                                    
 Default custom file 3           : -                                                 
 Auto clear up                   : Disable                                       
 Auto join in                    : Disable                                        
 Topology collection             : Enable 
 Activating file time            : In 00:00                                      
 Activating file method          : Default                                       
 Aging time of lost client(hours): - 
 Backup configuration file mode  : Default                                       
 Backup configuration file interval(hours): -                                   
---------------------------------------------------------------------------     

# Display EasyDeploy configuration on a client.

<HUAWEI> display easy-operation configuration
---------------------------------------------------------------------------     
 Role                           : Client                                        
 Commander IP address           : 192.168.150.128(dhcp-alloc)
 Commander UDP port             : 60000                                         
 DTLS status                    : Enable
---------------------------------------------------------------------------     

Table 2-6 Description of the display easy-operation configuration command output

Item
	

Description

Role
	

Device role in the EasyDeploy service, which can be Commander or client.

Commander IP address
	

Commander IP address.

It can be configured using the easy-operation commander ip-address command.

If a client starts with a configuration file and obtains an IP address from a DHCP server, the client can also obtain the Commander IP address from the Option 148 field in the DHCP response message sent from the DHCP server. Therefore, the command output on a client shows whether a Commander IP address is configured using the command (configured) or obtained from the DHCP server (dhcp-alloc). If both two types of Commander IP addresses are available, the client uses the configured one. After the configured Commander IP address is deleted, the client uses the Commander IP address obtains from the DHCP server.

Commander UDP port
	

Port number used for communication between Commander and clients.

It can be configured using the easy-operation commander ip-address command.

DTLS status
	

DTLS status.

IP address of file server
	

File server IP address.

It can be configured using the tftp-server or sftp-server | ftp-server command.

Type of file server
	

File server type.

Username of file server
	

User name for accessing the file server.

Default system-software file
	

Default system software. If no default system software is specified, this field is empty.

It can be configured using the system-software command.

Default system-software version
	

Default system software version. If no default system software is specified, this field is empty.

It can be configured using the system-software command.

Default configuration file
	

Default configuration file. If no default configuration file is specified, this field is empty.

It can be configured using the configuration-file command.

Default patch file
	

Default patch file. If no default patch file is specified, this field is empty.

It can be configured using the patch command.

Default WEB file
	

Default web page file. If no default web page file is specified, this field is empty.

It can be configured using the web-file command.

Default license file
	

Default license file. If no default license file is specified, this field is empty.

It can be configured using the license command.

Default custom file 1
	

First default user-defined file. If no default user-defined file is specified, this field is empty.

It can be configured using the custom-file command.

Default custom file 2
	

Second default user-defined file. If no default user-defined file is specified, this field is empty.

It can be configured using the custom-file command.

Default custom file 3
	

Third default user-defined file. If no default user-defined file is specified, this field is empty.

It can be configured using the custom-file command.

Auto clear up
	

Whether clients are enabled to automatically clear storage space.

This function is configured using the client auto-clear enable command.

Auto join in
	

Whether clients are enabled to automatically join the management domain of the Commander.

This function is configured using the client auto-join enable command.

Topology collection
	

Whether topology information collection is enabled.

This function is configured using the topology enable command.

Activating file time
	

File activation time. If default file activation mode is used, this field displays Immediately.

It can be configured using the activate-file command.

Activating file method
	

File activation mode. If default file activation mode is used, this field displays Default.

It can be configured using the activate-file command.

Aging time of lost client(hours)
	

Aging time of a client in lost state.

It can be configured using the client aging-time command.

Backup configuration file mode
	

Configuration file backup mode. If default mode is used, this field displays Default.

It can be configured using the backup configuration interval command.

Backup configuration file interval(hours)
	

Configuration file backup interval. If configuration file backup is disabled, this field displays a hyphen (-).

It can be configured using the backup configuration interval command.
display easy-operation device-information
Function

The display easy-operation device-information command displays device information.
Format

display easy-operation device-information
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

To check device information, run the display easy-operation device-information command. The command output includes the MAC address, ESN, model, type, and active/standby state of the device.

This command can be run on the Commander or clients.

If the client is a stack, the displayed MAC address is the MAC address of the stack (MAC address of the master or backup device) and the displayed ESN is the ESN of the master device.
Example

# Display the current device information.

<HUAWEI> display easy-operation device-information
System MAC: xxxx-xxxx-xxxx                                                      
Slot MAC            ESN                  Model               Device-Type Role   
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
0   xxxx-xxxx-xxxx  210235404310xxxxxxxx S5701-28X-LI-AC     S5700-X-LI  Master 
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

Table 2-7 Description of the display easy-operation device-information command output

Item
	

Description

System MAC
	

System MAC address.

Slot
	

Slot ID.

MAC
	

Device MAC address.

ESN
	

Device ESN.

Model
	

Device model.

Device-Type
	

Device type.

Role
	

Active/standby state.
display easy-operation download-status
Function

The display easy-operation download-status command displays file download status of clients on the Commander.
Format

display easy-operation download-status [ client client-id | verbose ]
Parameters
Parameter 	Description 	Value

client client-id
	

Displays the file download status of a client with a specified client ID.
	

The value is an integer. It depends on the maximum number of clients supported by the Commander. For details, see Maximum Number of Managed Clients on the Commander.

verbose
	

Displays detailed file download information of clients.
	

-
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

This command displays file download status of clients, including client information (such as the client ID, MAC address, and IP address), scenario (zero touch device deployment, faulty device replacement, or batch upgrade), downloaded files, file download phase, and current status.

A client downloads files in the following sequence: system software, patch file, license file, web page file, configuration file, and user-defined file.

If the client client-id or verbose parameter is not specified, brief file download information of all clients is displayed.
Example

# Display brief file download information of all clients.

<HUAWEI> display easy-operation download-status
---------------------------------------------------------------------------- 
  ID     Mac address    IP address      Method      Phase         Status     
---------------------------------------------------------------------------- 
  1      00e0-fc12-3456 10.10.10.5      Zero-touch  Sys-file      Upgrading  
  2      00e0-fc12-3333 10.10.10.6      Upgrade     Config-file   Failed     
  3      00e0-fc12-1A52 10.10.10.7      Zero-touch  Patch-file    Waiting  
  4      00e0-fc12-4458 10.10.10.8      Zero-touch  Web-file      Upgrading  
----------------------------------------------------------------------------

# Display detailed file download information of client 5.

<HUAWEI> display easy-operation download-status verbose
The total number of client in downloading files is : 1

---------------------------------------------------------------------------
 Client ID                    : 5
 Mac address                  : 00e0-fc12-2323
 ESN                          : 210235362912xxxxxxxx
 Host name                    : RTF_1-54
 IP address                   : 192.168.14.252
 Method                       : Zero-touch
 IP address of file server    : 192.168.1.88
 Type of file server          : SFTP
 Username of file server      : 1
 Configuration file           : -
 System-software file         : -
 Patch file                   : -
 WEB file                     : -
 License file                 : -
 Customs file 1               : -
 Customs file 2               : -
 Customs file 3               : -
 Activating file time         : Immediately
 Activating file method       : Default
 Phase                        : Unknown
 DownloadSize(byte)           : 29916738
 Status                       : Upgrading
 Reason                       : The device will enter getting download-information state.
 Description                  : The device will enter getting download-information state.
---------------------------------------------------------------------------

Table 2-8 Description of the display easy-operation download-status command output

Item
	

Description

ID/Client ID
	

Client ID.

Mac address
	

Client MAC address.

ESN
	

Client ESN.

Host name
	

Client host name.

IP address
	

Client IP address.

Method
	

EasyDeploy scenario.

    Zero-touch: zero touch device deployment and faulty device replacement.
    Upgrade: batch upgrade.

Phase
	

File download phase: Sys-file, Config-file, Patch-file, Web-file, License-file, Custom-file, Activating, Rebooting, and Unknown.

Status
	

File download status.

    Upgrading: The client is downloading a file.
    Waiting: The client is waiting for download.
    Failed: The client fails to download a file because its storage space is insufficient or the file to be downloaded does not exist.

IP address of file server
	

File server IP address.

Type of file server
	

File server type.

Username of file server
	

User name for accessing the file server.

System-software file
	

System software that is being downloaded.

Configuration file
	

Configuration file that is being downloaded.

Patch file
	

Patch file that is being downloaded.

WEB file
	

Web page file that is being downloaded.

License file
	

License file that is being downloaded.

Customs file 1
	

First user-defined file that is being downloaded.

Customs file 2
	

Second user-defined file that is being downloaded.

Customs file 3
	

Third user-defined file that is being downloaded.

DownloadSize(byte)
	

Size of a downloaded file.
NOTE:

If the system software is upgraded from V200R009 or an earlier version to V200R010 or a later version, this field displays -.

Activating file time
	

File activation time. Immediately indicates that files are activated immediately after they are downloaded.

Activating file method
	

File activation mode. Default indicates the default activation mode; Reload indicates that all files are activated by device resetting.

Reason
	

File download result. For possible results and solutions, see Table 2-9.

Description
	

Result description. For possible results and measures, see Table 2-9.
Table 2-9 Download results and solutions

Reason
	

Description
	

Solution

Input has been detected in the console
	

Input has been detected in the console. EasyOperation will stop
	

During zero touch device deployment, input is detected on the console interface of the device to be deployed, so EasyOperation stops. You are advised to restart the device to restart the deployment process. Do not input anything on the console interface during EasyOperation.

The USB upgrade is working
	

The USB upgrade is working. EasyOperation will stop
	

The device is performing USB-based deployment. USB-based deployment and EasyDeploy are mutually exclusive. You are advised to stop one of the two functions.

The uni-mng system is working
	

The uni-mng system is working. EasyOperation will stop
	

The device is running SVF. SVF and EasyDeploy are mutually exclusive. You are advised to stop one of the two functions.

The device has in initial state
	

The device is in initial state. EasyOperation will stop
	

The device is in web initialization mode. Web initial login mode and EasyDeploy are mutually exclusive. You are advised to stop one of the two functions.

Getting download-information failed. The device will get download-information again
	

Getting download-information failed. The device will be back to initialization state.
	
The device to be deployed fails to obtain file download information.

    If the device is deployed using an intermediate file, check whether the intermediate file has the correct content and format, whether the network between the device and server that stores the intermediate file is normal, and whether the configured file server user name and password are correct.
    If the device is deployed using the Commander, check whether the network between the device and Commander is normal and whether the configured download information is correct.

Downloading file failed
	

The system software file and version are wrong. The device will be back to initialization state
	

The system software version is specified but the system software file is not specified. You need to specify the system software file.

Downloading the system software file failed. Please check the reason
	

    Check whether a network fault occurs during file download.
    Check whether the file server that stores files is working properly.
    Check whether the file names of the system software, patch file, configuration file, license file, web file, and user-defined file are valid.
    Check whether the system software, patch file, configuration file, license file, web file, and user-defined file to be downloaded have the same names as the current system files.
    Check whether the device to be upgraded has enough disk space.

Downloading the patch file failed. Please check the reason

Downloading the web file failed. Please check the reason

Downloading the license file failed. Please check the reason

Downloading the configuration file failed. Please check the reason

Downloading the custom file 1 failed. Please check the reason

Downloading the custom file 2 failed. Please check the reason

Downloading the custom file 3 failed. Please check the reason

The file does not exist in the file server
	

The file does not exist in the file server
	

The file to be downloaded does not exist in the file server. Ensure that the file exists in the file server.

There is no enough space on the device
	

There is no enough space on master device or board
	

The disk space on the device to be upgraded is insufficient for the system software. Ensure that the device has enough disk space.

The file server is unreachable
	

The file server is unreachable
	

Check whether the configured file server IP address is correct and whether the network connection between the device and file server is normal.

Authentication on file server fails
	

Authentication on file server fails
	
Authentication fails on the file server. Check whether the following configurations are correct:

    User name and password
    User management configuration on the file server
    Other user management configurations

The filename is the same as the system file
	

The filename of the patch is same as the system patch file
	

The downloaded patch has the same file name as the system patch file.

The filename of the system-software is same as the system file
	

The downloaded patch has the same file name as the system patch file.

Check file failed
	

System-software crc check error
	

The CRC check of the downloaded system software fails. Check whether the system software of the file server is correct.

The file is a system file on the other device
	

The file is system file on other device
	

The patch to be downloaded is the system file on the standby or slave device.

Activate file failed. The device will be back to initialization state after 5 minutes
	

Activating file failed. The device will be back to initialization state after 5 minutes
	

File activation because of the following reasons:

    Failed to set the system software, configuration file, and patch file as next startup files. Check whether these files are available.
    Failed to start the device. Check whether the device has unsaved configuration, whether next startup files on the master and standby devices are consistent, and whether system files are damaged.

Reboot system failed
	

The WLAN configuration conflicts with the next startup system software. To prevent configuration loss, use the eDesk tool to convert the configuration, and then specify the new configuration file for next startup
	

The device has WLAN configurations, which may be lost when the device is upgraded. You need to export the WLAN configurations, use a dedicated tool to convert the configurations, and then import them for use.

Copying file to other device or board failed
	

Copying file to other device or board failed
	

Failed to copy files to the standby or slave device. Check whether the file system function is normal and whether boards are installed or removed when files are being copied.

There is no enough space on other device or board
	

There is insufficient disk space on the standby or slave device when upgrade files are being copied to the standby or slave device. Ensure that the disk space is enough to store all the upgrade files.

The download file was deleted
	

The download file was deleted in client, please check the environment
	

The downloaded upgrade files are deleted. Check whether other users have logged in to the device and deleted the files.

Unknown error
	

Unknown error
	

An unknown error occurs in the system. Contact technical support personnel.

EasyOperation client operation failed
	

The file server is not configured. Configure a file server first. Check whether a file server has been configured correctly
	

Check whether a file server has been configured correctly.
display easy-operation group
Function

The display easy-operation group command displays group information on the Commander.
Format

display easy-operation group [ build-in [ device-type [ vendor vendorname ] ] | custom [ group-name ] ]
Parameters
Parameter 	Description 	Value

build-in
	

Displays built-in group information.

If the device type is not specified, information about all built-in groups is displayed.
	

-

device-type
	

Specifies a device type.
	

The value is an enumerated type and case-insensitive. The following device types are supported:

    S2730S-S
    S2750-EI
    S5700-10P-LI
    S5700-EI
    S5700-HI
    S5700-P-LI
    S5700-SI
    S5700-TP-LI
    S5700-X-LI
    S5700S-LI
    S5700S-P-LI
    S5700S-X-LI
    S5710-EI
    S5710-HI
    S5710-X-LI
    S5720-EI
    S5720-HI
    S5720-LI
    S5720-SI
    S5720S-LI
    S5730-HI
    S5730-SI
    S5730S-EI
    S5731-H
    S5731-S
    S5731S-H
    S5731S-S
    S5732-H
    S5735-L
    S5735-L1
    S5735-L-I
    S5735S-L1
    S5735-S
    S5735S-H
    S5736-S
    S6700-EI
    S6720-HI
    S6720-LI
    S6720-SI
    S6720S-S
    S6720S-LI
    S6720S-SI
    S6730-H
    S6730S-H
    S6730-S
    S6730S-S
    S6735-S
    S9700

vendor vendorname
	

Displays the name of the group created based on the device type of the specified vendor.

If no group name is specified, all vendor groups of the corresponding device types are displayed.
	

The value is a string of case-sensitive characters. It cannot contain spaces.

custom
	

Displays customized group information.

If the group name is not specified, information about all customized groups is displayed.
	

-

group-name
	

Specifies the name of a customized group.
	

The value is a string of 1 to 31 case-sensitive characters without spaces. The character string must start with a letter.
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

This command displays information about groups on the Commander.

If the build-in or custom parameter is not specified, brief information about all groups on the Commander is displayed.
Example

# Display brief information about all groups on the Commander.

<HUAWEI> display easy-operation group
The total number of group configured is : 6                                    
The number of build-in group is         : 2                                     
The number of custom group is           : 4                                    

-------------------------------------------------------                         
 Groupname                       Type     MatchType                             
-------------------------------------------------------                         
 AAA                             custom   ip-address                            
 F1                              custom   ip-address                            
S5720-HI                        build-in device-type
 test                            custom   mac-address                           
 test1                           custom   ip-address                            
-------------------------------------------------------                         

# Display information about built-in groups.

<HUAWEI> display easy-operation group build-in
---------------------------------------------------------------------------     
 Group name                : S5720-HI
 Configuration file        : vrpcfg.zip                                       
 System-software file      : S5720-HI.cc 
 Patch file                : -                                                  
 WEB file                  : -                                                  
 License file              : -                                                  
 Customs file 1            : -                                                  
 Customs file 2            : -                                                  
 Customs file 3            : -                                                  
 Activating file time      : Immediately                                        
 Activating file method    : Default                                            
---------------------------------------------------------------------------     

# Display information about the customized group AAA.

<HUAWEI> display easy-operation group custom AAA
---------------------------------------------------------------------------     
 Group name                : AAA                                                
 Configuration file        : -                                                  
 System-software file      : -                                                  
 Patch file                : -                                                  
 WEB file                  : -                                                  
 License file              : -                                                  
 Customs file 1            : header.txt                                          
 Customs file 2            : -                                                  
 Customs file 3            : -                                                  
 Activating file time      : Immediately                                        
 Activating file method    : Default                                            
 Ip-address list           :                                                    
  Ip-address        Ip-mask                                                     
  192.168.150.110   255.255.255.0                                             
  192.168.150.111   255.255.255.0                                             
  192.168.150.112   255.255.255.0                                             
  192.168.150.113   255.255.255.0                                             
  192.168.150.114   255.255.255.0                                             
  192.168.150.115   255.255.255.0                                             
---------------------------------------------------------------------------     

Table 2-10 Description of the display easy-operation group command output

Item
	

Description

Groupname
	

Group name.

Type
	

Group type: build-in or custom.

MatchType
	

Match type of the group.

The match type of a built-in group is configured using the group build-in command.

The match type of a customized group is configured using the group custom command.

Configuration file
	

System software to be downloaded by the clients matching the group. If no system software is specified, this field displays a hyphen (-).

It can be configured using the configuration-file command.

System-software file
	

Configuration file to be downloaded by the clients matching the group. If no configuration file is specified, this field displays a hyphen (-).

It can be configured using the system-software command.

Patch file
	

Patch file to be downloaded by the clients matching the group. If no patch file is specified, this field displays a hyphen (-).

It can be configured using the patch command.

WEB file
	

Web page file to be downloaded by the clients matching the group. If no system software is specified, this field displays a hyphen (-).

It can be configured using the web-file command.

License file
	

License file to be downloaded by the clients matching the group. If no license file is specified, this field displays a hyphen (-).

It can be configured using the license command.

Customs file 1
	

First user-defined file to be downloaded by the clients matching the group. If no system software is specified, this field displays a hyphen (-).

It can be configured using the custom-file command.

Customs file 2
	

Second user-defined file to be downloaded by the clients matching the group. If no system software is specified, this field displays a hyphen (-).

It can be configured using the custom-file command.

Customs file 3
	

Third user-defined file to be downloaded by the clients matching the group. If no third user-defined file is specified, this field displays a hyphen (-).

It can be configured using the custom-file command.

Activating file time
	

File activation time used by the clients matching the group. If default file activation time is used, this field displays Immediately.

It can be configured using the activate-file command.

Activating file method
	

File activation mode used by the clients matching the group. If default mode is used, this field displays Default.

It can be configured using the activate-file command.

Ip-address list
	

Clients match the group based on IP addresses, and all matching IP addresses are displayed.

    If clients match the group based on ESNs, ESN list is displayed.

    If clients match the group based on MAC addresses, Match mac-address list is displayed.

    If clients match the group based on models, Product model is displayed.

    If clients match the group based on types, Device type is displayed.

The matching rule can be configured using the match command.
display easy-operation power
Function

The display easy-operation power command displays power consumption information of the Commander and clients.
Format

display easy-operation power [ client client-id | commander ]
Parameters
Parameter 	Description 	Value

client client-id
	

Indicates power consumption information of a specified client.
	

The value is an integer. It depends on the maximum number of clients supported by the Commander.

For details, see Maximum Number of Managed Clients on the Commander.

commander
	

Indicates power consumption information of the Commander.
	

-
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

The command used to check power consumption information differs on the Commander and clients.

    On the Commander
        If no parameter is specified, you can check power consumption information about the Commander and all the clients in initial, upgrade, and normal operating states.
        If only client client-id is specified, you can check power consumption information about the specified client.
        If only commander is specified, you can check power consumption information about the Commander.

    On the client

    The parameters client client-id and commander are not supported. You can check power consumption information only about the current client.

Example

# Display power consumption information of the Commander and clients.

<HUAWEI> display easy-operation power
------------------------------------------------------------------------------  
Role       HostName                    Interface     Usage(W)  Gauge  Mode      
------------------------------------------------------------------------------  
Commander  HUAWEI                                    995.0     actual standard  
Client1    HUAWEI                                    511.3     rated  standard  
                                       GE0/0/1       0.7       actual           
Client3    HUAWEI                                    93.0      rated  standard  
Client4    HUAWEI                                    100.0     rated  standard  
------------------------------------------------------------------------------

Table 2-11 Description of the display easy-operation power command output

Item
	

Description

Role
	

Device role in the EasyDeploy service, which can be Commander or client.

HostName
	

Device name.

Interface
	

Interface name:

    If this parameter is left blank, power consumption of the entire device is displayed.
    If an interface name is specified, power consumption of a power device connected to the corresponding interface is displayed.

Usage(W)
	

Power consumption, in Watts.

Gauge
	

Power consumption type:

    actual: indicates real-time power consumption.
    rated: indicates rated power consumption.

Mode
	
Energy saving mode:

    standard
    basic
    deep

display easy-operation topology
Function

The display easy-operation topology command displays network topology information collected by the Commander.
Format

display easy-operation topology
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

You can run this command to view network topology information collected by the Commander. Based on the collected information, zero touch device deployment and automatic faulty device replacement can be implemented.
Example

# Display network topology information collected by the Commander.

<HUAWEI> display easy-operation topology
<-->:normal device         <??>:lost device
Total topology node number: 3
------------------------------------------------------------------------------
[HUAWEI: xxxx-xxxx-xxxx](Commander)
|-(GE0/0/8)<-->(GE0/0/38)[HUAWEI: xxxx-xxxx-xxxx](Client 1)
| |-(GE0/0/16)<-->(GE0/0/16)[HUAWEI: xxxx-xxxx-xxxx] (Client 2)

Table 2-12 Description of the display easy-operation topology command output

Item
	

Description

<-->
	

Clients that are running properly.

<??>
	

Properly operating clients change to the lost state.

Total topology node number
	

Number of nodes (including the Commander) in the network topology.
display ndp
Function

The display ndp command displays the global NDP information or the NDP information on a specified interface.
Format

display ndp [ interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10> ]
Parameters
Parameter 	Description 	Value

interface { interface-type interface-number1 [ to interface-type interface-number2 ] }
	

Displays the NDP information on a specified interface.

    interface-type interface-number1 indicates the type and number of the first interface.
    interface-type interface-number2 indicates the type and number of the last interface.

If no interface is specified when you run the display ndp command, NDP information about all interfaces is displayed.
	

-
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

When you check the NDP information:

    If NDP is not globally enabled, only the current NDP status of a switch is displayed.
    If NDP is globally enabled, the global NDP information and status and the NDP information and status of interfaces on a switch are displayed.

Example

# Display the global NDP information and NDP information about all the interfaces.

<HUAWEI> display ndp

 Neighbor discovery protocol is enabled.
 Neighbor Discovery Protocol Ver: 1, Hello Timer: 60(s), Aging Timer: 180(s)
 Interface: GigabitEthernet0/0/1
    Status: Enabled, Packets Sent: 114, Packets Received: 108, Packets Error: 0
    Neighbor 1:  Aging Time: 174(s)
       MAC Address : xxxx-xxxx-xxxx
       Port Name   : GigabitEthernet0/0/1
       Software Version: Version 5.130 V200R024C00
       Device Name : S5720 
       Port Duplex : FULL                                                       
       Product Ver : S5720 V200R024C00 
---- More ----   

Table 2-13 Description of the display ndp command output

Item
	

Description

Neighbor discovery protocol is status
	
The global NDP function is in status state. status includes:

    disabled: NDP is disabled globally.

    enabled: NDP is enabled globally.

To set this value, run the ndp enable (system view) command.

Neighbor Discovery Protocol Ver
	

Currently supported NDP versions. Version 1 is currently supported by all devices.

Hello Timer
	

Interval for sending NDP packets, in seconds. To set this value, run the ndp timer hello command.

Aging Timer
	

Aging time of NDP information, in seconds. To set this value, run the ndp timer aging command.

Interface
	

Interface number of a switch.

Status
	
NDP status of an interface:

    Disabled: NDP is disabled on the interface.

    Enabled: NDP is enabled on the interface.

To set this value, run the ndp enable (system view) or ndp enable (interface view) command.

Packets Sent
	

Number of NDP packets sent from the interface.

Packets Received
	

Number of NDP packets received by the interface.

Packets Error
	

Number of incorrect NDP packets received by the interface.

Neighbor 1
	

Neighboring node 1.

Aging Time
	

Aging time of NDP information about a neighboring node connected to the interface.

MAC Address
	

MAC address of the neighboring node.

Port Name
	

Name of the interface on the neighboring node connected to the interface.

Software Version
	

Version of the system software on the neighboring node.

Device Name
	

Host name of the neighboring node.

Port Duplex
	
Duplex mode of the interface on the neighboring node connected to the local interface.

    FULL: full-duplex.

    Half: half-duplex.

Product Ver
	

Type and software version number of the neighboring node.

# Display the NDP information of the switch on which NDP is not globally enabled.

<HUAWEI> display ndp

 Neighbor discovery protocol is disabled.
 Neighbor Discovery Protocol Ver: 1, Hello Timer: 60(s), Aging Timer: 180(s)

display ntdp
Function

The display ntdp command displays NTDP configuration.
Format

display ntdp
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

You can run the display ntdp command to check the NTDP configuration of a switch without considering whether NTDP is enabled globally or on interfaces on the switch.
Example

# Display the NTDP configuration of a switch.

<HUAWEI> display ntdp

Network topology discovery protocol is enabled
Hops      : 8                                                                  
Timer     : 0 min                                                               
Hop Delay : 200 ms                                                              
Port Delay: 20 ms                                                               
Total time for last collection: 330 ms  

Table 2-14 Description of the display ntdp command output

Item
	

Description

Network topology discovery protocol is status
	
The global NTDP function is in status state. status includes the following types of status:

    disabled: NTDP is disabled globally.

    enabled: NTDP is enabled globally.

To set this value, run the ntdp enable (system view) command.

Hops
	

Topology collection range (the number of hops). To set this value, run the ntdp hop command.

Timer
	

Interval for collecting topology information. To set this value, run the ntdp timer command.

Hop Delay
	

Delay for the first interface to forward NTDP topology request packets. To set this value, run the ntdp timer hop-delay command.

Port Delay
	

Delay for other interfaces to forward NTDP topology request packets. To set this value, run the ntdp timer port-delay command.

Total time for last collection
	

Duration for collecting topology information last time.
display ntdp device-list
Function

The display ntdp device-list command displays the topology information collected using NTDP.
Format

display ntdp device-list [ verbose ]
Parameters
Parameter 	Description 	Value

verbose
	

Displays detailed device information.

If you run the display ntdp device-list command without setting optional parameters, brief information about the device is displayed.
	

-
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

Usage Scenario

To check the topology information collected using NTDP, run the display ntdp device-list command. The topology information can be displayed only after ntdp explore command is run in the user view to enable the switch to periodically collect the topology information.

When NTDP is not enabled on interfaces of the switch, only information about the switch itself is collected using NTDP.

Prerequisites

NTDP has been globally enabled on the switch.
Example

# Display brief switch information collected using NTDP.

<HUAWEI> display ntdp device-list
The device-list of NTDP:
------------------------------------------------------------------------------
 MAC             HOP  IP                  PLATFORM
------------------------------------------------------------------------------
 xxxx-xxxx-xxxx  0                        S5700                                 
 xxxx-xxxx-xxxx  1    10.1.1.2/24         S5700                                 
 xxxx-xxxx-xxxx  1    10.1.1.3/24         S5700 

Table 2-15 Description of the display ntdp device-list command output

Item
	

Description

MAC
	

MAC address of the device.

HOP
	

Number of hops from the device to the topology collecting device.

IP
	

IP address of the device.

PLATFORM
	

Type of the device.

# Display detailed device information collected using NTDP.

<HUAWEI> display ntdp device-list verbose
 Hostname  : HUAWEI
 MAC       : xxxx-xxxx-xxxx
 Hop       : 0
 Platform  : S5700
 IP        : 
 Version   : Version 5.150 V200R024C00
 Cluster   : Administrator switch of cluster
 Peer MAC        Native Port ID Peer Port ID   N-Index    P-Index    Speed Dup
 xxxx-xxxx-xxxx  GE0/0/4        GE0/0/4        9          9          1000  FULL 
 xxxx-xxxx-xxxx  GE0/0/1        GE0/0/1        6          6          1000  FULL

-----------------------------------------------------------------------------
                                                                               
 Hostname  : HUAWEI                                             
 MAC       : xxxx-xxxx-xxxx                                                     
 Hop       : 1                                                                  
 Platform  : S5700                                                              
 IP        : 10.1.1.2/24                                                        
 Version   : Version 5.150 V200R024C00                                   
 Cluster   : Candidate switch 
                                                                                
 Peer MAC        Native Port ID Peer Port ID   N-Index    P-Index    Speed Dup  
 xxxx-xxxx-xxxx  GE0/0/4        GE0/0/4        9          9          1000   FULL        
                                            
-----------------------------------------------------------------------------   
                                                                                
 Hostname  : HUAWEI                                              
 MAC       : xxxx-xxxx-xxxx                                                     
 Hop       : 1                                                                  
 Platform  : S5700                                                              
 IP        : 10.1.1.3/24                                                        
 Version   : Version 5.150 V200R024C00                                   
 Cluster   : Candidate switch 
                                                                                
 Peer MAC        Native Port ID Peer Port ID   N-Index    P-Index    Speed Dup  
 xxxx-xxxx-xxxx  GE0/0/1        GE0/0/1        6          6          1000   FULL    

Table 2-16 Description of the display ntdp device-list verbose command output

Item
	

Description

Hostname
	

Host name of the device.

MAC
	

MAC address of the device.

Hop
	

Number of hops from the device to the topology collecting device.

Platform
	

Model of the device.

IP
	

Private IP address of the device.

Version
	

Version of the system software running on the device.

Cluster
	

Role of the device in the cluster.

Peer MAC
	

MAC address of the neighboring node.

Native Port ID
	

Interface of the device connecting to the neighboring node.

Peer Port ID
	

Interface of the neighboring node connecting to the local device.

N-Index
	

Index of the local interface.

P-Index
	

Index of the peer interface.

Speed
	

Rate of the interface when the neighboring node is connected to the device.

Dup
	

Duplex mode of the interface when the neighboring node is connected to the local device.
display cluster-topology-info
Function

The display cluster-topology-info command displays the topology information about the cluster.
Format

display cluster-topology-info
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

You can run the display cluster-topology-info command on the Commander switch only.

If two devices are connected through multiple interfaces, this command displays information only about the link established between a pair of interfaces.
Example

# Display the topology information about the cluster.

<HUAWEI> display cluster-topology-info

The topology information about the cluster:
<-->:normal device         <++>:candidate device         <??>:lost device
-------------------------------------------------------------------------
Total topology node number is 5.
[HUAWEI_0.Administrator: Root-00e0-ad14-c600]
|-(GigabitEthernet0/0/2)<-->(GigabitEthernet0/0/1)[HUAWEI_3.Member-3: xxxx-xxxx-xxxx]
| |-(GigabitEthernet0/0/3)<-->(GigabitEthernet0/0/1)[HUAWEI_2.Member-2: xxxx-xxxx-xxxx]
| | |-(GigabitEthernet0/0/1)<-->(GigabitEthernet0/0/1)[HUAWEI_1.Member-1: xxxx-xxxx-xxxx]
|-(GigabitEthernet0/0/1)<-->(GigabitEthernet0/0/2)[HUAWEI_4.Member-4: xxxx-xxxx-xxxx]

Table 2-17 shows the description of the display cluster-topology-info command output.
Table 2-17 Description of the display cluster-topology-info command output

Item
	

Description

<-->
	

Normal link.

<++>
	

Candidate link.

<??>
	

Faulty link.

Total topology node number is
	

Specifies the number of nodes in the topology of the cluster.

[HUAWEI_0.Administrator: Root-xxxx-xxxx-xxxx]
	

Specifies the MAC address and host name of the switch. It varies with the name and MAC address of the device.

|-
	

Indicates the level-1 device that is connected to the root node.

| |-
	

Indicates the level-2 device which is connected to the level-1 device.

| | |-
	

Indicates the level-3 device which is connected to the level-2 device.

(GigabitEthernet0/0/1)<-->(GigabitEthernet0/0/2)
	

Specifies the names of the interfaces connecting the two devices. It varies with the interfaces of the devices. The left brackets contain information about the upper-level device. The right brackets contain information about the lower-level device.

[HUAWEI_3.Member-3: xxxx-xxxx-xxxx]
	

Specifies the MAC address of the member device. It varies with the name and MAC address of the device.
easy-operation
Function

The easy-operation command displays the Easy-Operation view.
Format

easy-operation
Parameters

None
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

To specify the file server, information about files to be downloaded, and file activation mode, or configure other EasyDeploy-related functions, first run the easy-operation command to enter the Easy-Operation view.

Prerequisites

You can enter the Easy-Operation view only on the device functions as a Commander.

After choosing a device as the Commander, run the easy-operation commander ip-address command on the device to configure the Commander IP address, and then run the easy-operation commander enable command to enable the Commander function.
Example

# Enter the Easy-Operation view.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] 

easy-operation client ftp-server
Function

The easy-operation client ftp-server command specifies IP addresses, user names, and passwords for FTP servers on a pre-delivery device.

The undo easy-operation client ftp-server command deletes the specified IP addresses, user names, and passwords of FTP servers on a pre-delivery device.

By default, IP addresses, user names, and passwords of FTP servers are not specified on pre-delivery devices.
Format

easy-operation client ftp-server ip-address ipaddress &<1-4> [ username username [ password password ] ]

undo easy-operation client ftp-server ip-address [ ipaddress ] [ username username ] [ password ]
Parameters
Parameter 	Description 	Value

ip-address ipaddress
	

Specifies the IP address of an FTP server.
	

The value is in dotted decimal notation.

username username
	

Specifies a user name for FTP server access.
	

The value is a string of 1 to 64 characters.

password password
	

Specifies a password for FTP server access.
	

The value is a string of 1 to 16 characters in plaintext or 48 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client ftp-server command to specify IP addresses, user names, and passwords for the servers.

Precautions

    The easy-operation client ftp-server command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.
    If you do not want to use the pre-configured device deployment function, run the undo easy-operation client ftp-server command in the system view to delete the specified IP addresses, user names, and passwords of FTP servers.
    If a user name and a password have been set on a file server, the device must have the same user name and password configured.
    FTP has security risks. Using an SFTP file server is recommended.
    A maximum of four FTP file servers' IP addresses, user names, and passwords can be specified. A device searches for and obtains the desired files from the servers in the sequence in which file servers are configured.
    Ensure that the files to be downloaded have been uploaded to the specified file servers.

Example

# Delete the IP address, user name, and password of an FTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client ftp-server ip-address 10.1.1.1 username huawei password

easy-operation client ftp-server-url
Function

The easy-operation client ftp-server-url command specifies URLs, user names, and passwords for FTP servers on a pre-delivery device.

The undo easy-operation client ftp-server-url command deletes the specified URLs, user names, and passwords of FTP servers on a pre-delivery device.

By default, URLs, user names, and passwords of FTP servers are not specified on pre-delivery devices.
Format

easy-operation client ftp-server-url url-address [ username username [ password password ] ]

undo easy-operation client ftp-server-url [ url-address ] [ username username ] [ password ]
Parameters
Parameter 	Description 	Value

url-address
	

Specifies the URL of an FTP server.
	

The value is a string of 1 to 64 characters.

username username
	

Specifies a user name for FTP server access.
	

The value is a string of 1 to 64 characters.

password password
	

Specifies a password for FTP server access.
	

The value is a string of 1 to 16 characters in plaintext or 48 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client ftp-server-url command to specify URLs, user names, and passwords for the servers.

Precautions

The easy-operation client ftp-server-url command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not want to use the pre-configured device deployment function, run the undo easy-operation client ftp-server-url command in the system view to delete the specified URLs, user names, and passwords of FTP servers.

You can specify an FTP server using either an IP address or URL.
Example

# Delete the URL, user name, and password of an FTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client ftp-server-url www.1234.com username huawei password

easy-operation client netfile
Function

The easy-operation client netfile command specifies a name for an intermediate file for pre-configured device deployment.

The undo easy-operation client netfile command deletes the name of an intermediate file for pre-configured device deployment.

By default, devices use the intermediate file lswnet.cfg for pre-configured device deployment.
Format

easy-operation client netfile filename

undo easy-operation client netfile [ filename ]
Parameters
Parameter 	Description 	Value

filename
	

Specifies the name (*.cfg) of an intermediate file.
	

The value is a string of 5 to 48 characters.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

A pre-configured device obtains version file information from an intermediate file placed on a file server. This information includes an SNMP host's IP address, device's MAC address, ESN or model, and names of files to be downloaded.

If you do not specify an intermediate file, the device uses the lswnet.cfg file by default. If you want to use another intermediate file, run the easy-operation client netfile command.

Precautions

The easy-operation client netfile command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not want to use pre-configured device deployment, run the undo easy-operation client netfile command in the system view to delete the intermediate file.

The configuration file specified in an intermediate file cannot contain any pre-configured commands.
Example

# Delete the intermediate file specified for pre-configured device deployment.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client netfile huawei.cfg

easy-operation client sftp-server
Function

The easy-operation client sftp-server command specifies IP addresses, user names, and passwords for SFTP servers on a pre-delivery device.

The undo easy-operation client sftp-server command deletes the specified IP addresses, user names, and passwords of SFTP servers on a pre-delivery device.

By default, IP addresses, user names, and passwords of SFTP servers are not specified on pre-delivery devices.
Format

easy-operation client sftp-server ip-address ipaddress &<1-4> [ username username [ password password ] ]

undo easy-operation client sftp-server ip-address [ ipaddress ] [ username username ] [ password ]
Parameters
Parameter 	Description 	Value

ip-address ipaddress
	

Specifies the IP address of an SFTP server.
	

The value is in dotted decimal notation.

username username
	

Specifies a user name for SFTP server access.
	

The value is a string of 1 to 64 characters.

password password
	

Specifies a password for SFTP server access.
	

The value is a string of 1 to 16 characters in plaintext or 48 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client sftp-server command to specify IP addresses, user names, and passwords for the servers.

Precautions

    The easy-operation client sftp-server command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.
    If you do not want to use the pre-configured device deployment function, run the undo easy-operation client sftp-server command in the system view to delete the specified IP addresses, user names, and passwords of SFTP servers.
    If a user name and a password have been set on a file server, the device must have the same user name and password configured.
    A maximum of four SFTP file servers' IP addresses, user names, and passwords can be specified. A device searches for and obtains the desired files from the servers in the sequence in which file servers are configured.
    Ensure that the files to be downloaded have been uploaded to the specified file servers.

Example

# Delete the IP address, user name, and password of an SFTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client sftp-server ip-address 10.1.1.1 username huawei password

easy-operation client sftp-server-url
Function

The easy-operation client sftp-server-url command specifies URLs, user names, and passwords for SFTP servers on a pre-delivery device.

The undo easy-operation client sftp-server-url command deletes the specified URLs, user names, and passwords of SFTP servers on a pre-delivery device.

By default, URLs, user names, and passwords of SFTP servers are not specified on pre-delivery devices.
Format

easy-operation client sftp-server-url url-address [ username username [ password password ] ]

undo easy-operation client sftp-server-url [ url-address ] [ username username ] [ password ]
Parameters
Parameter 	Description 	Value

url-address
	

Specifies the URL of an SFTP server.
	

The value is a string of 1 to 64 characters.

username username
	

Specifies a user name for SFTP server access.
	

The value is a string of 1 to 64 characters.

password password
	

Specifies a password for SFTP server access.
	

The value is a string of 1 to 16 characters in plaintext or 48 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client sftp-server-url command to specify URLs, user names, and passwords for the SFTP servers on the device.

Precautions

    The easy-operation client sftp-server-url command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

    If you do not want to use the pre-configured device deployment function, run the undo easy-operation client sftp-server-url command in the system view to delete the specified URLs, user names, and passwords of SFTP servers.
    You can specify an SFTP server using either an IP address or URL.
    If a user name and a password have been set on a file server, the device must have the same user name and password configured.
    Ensure that the files to be downloaded have been uploaded to the specified file servers.

Example

# Delete the URL, user name, and password of an SFTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client sftp-server-url www.1234.com username huawei password

easy-operation client snmp securityname
Function

The easy-operation client snmp securityname command configures a shared key between a pre-delivery device and an SNMP host.

The undo easy-operation client snmp securityname command deletes a shared key between a pre-delivery device and an SNMP host.

By default, no shared key is configured between pre-delivery devices and SNMP hosts.
Format

easy-operation client snmp securityname cipher password

undo easy-operation client snmp securityname
Parameters
Parameter 	Description 	Value
cipher password 	Specifies a shared key. 	The value is a string of 1 to 32 characters in plaintext, or 48 or 68 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

In pre-configured device deployment, a pre-delivery device sends alarms to an NMS over an SNMP module for deployment monitoring. To configure a shared key between the device and the SNMP host, run the easy-operation client snmp securityname command.

Precautions

The easy-operation client snmp securityname command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not want to use the pre-configured device deployment function, run the undo easy-operation client snmp securityname command in the system view to delete the shared key.
Example

# Delete the shared key between a pre-delivery device and an SNMP host.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client snmp securityname

easy-operation client tftp-server
Function

The easy-operation client tftp-server command specifies IP addresses for TFTP servers on a pre-delivery device.

The undo easy-operation client tftp-server command deletes the specified IP addresses of TFTP servers on a pre-delivery device.

By default, IP addresses of TFTP servers are not specified on pre-delivery devices.
Format

easy-operation client tftp-server ip-address ipaddress &<1-4>

undo easy-operation client tftp-server ip-address [ ipaddress ]
Parameters
Parameter 	Description 	Value
ip-address ipaddress 	Specifies the IP address of a TFTP server. 	The value is in dotted decimal notation.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client ftp-server command to specify IP addresses for the servers.

Precautions

    The easy-operation client tftp-server command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.
    If you do not want to use the pre-configured device deployment function, run the undo easy-operation client tftp-server command in the system view to delete the specified IP addresses of TFTP servers.
    TFTP has security risks. Using an SFTP file server is recommended.
    A maximum of four TFTP file servers' IP addresses can be specified. A device searches for and obtains the desired files from the servers in the sequence in which file servers are configured.
    Ensure that the files to be downloaded have been uploaded to the specified file servers.

Example

# Delete the IP address of a TFTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client tftp-server ip-address 10.1.1.1

easy-operation client tftp-server-url
Function

The easy-operation client tftp-server-url command specifies URLs for TFTP servers on a pre-delivery device.

The undo easy-operation client tftp-server-url command deletes the specified URLs of TFTP servers on a pre-delivery device.

By default, URLs of TFTP servers are not specified on pre-delivery devices.
Format

easy-operation client tftp-server-url url-address

undo easy-operation client tftp-server-url [ url-address ]
Parameters
Parameter 	Description 	Value
url-address 	Specifies the URL of a TFTP server. 	The value is a string of 1 to 64 characters.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client tftp-server-url command to specify URLs for the servers.

Precautions

The easy-operation client tftp-server-url command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not want to use the pre-configured device deployment function, run the undo easy-operation client tftp-server-url command in the system view to delete the specified URLs of TFTP servers.

You can specify either an IP address or URL for a TFTP server.
Example

# Delete the URL of a TFTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client tftp-server-url www.1234.com

easy-operation client vlan
Function

The easy-operation client vlan command specifies the VLAN used in the configured device deployment procedure before device delivery.

The undo easy-operation client vlan command deletes the VLAN used in the configured device deployment procedure.

By default, the VLAN used in the configured device deployment procedure is VLAN 1.
Format

easy-operation client vlan vlanid

undo easy-operation client vlan
Parameters
Parameter 	Description 	Value
vlanid 	Specifies the VLAN used in the configured device deployment procedure. 	The value is an integer that ranges from 1 to 4094.
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Application Scenario

You can use the default VLAN 1 or run this command to specify the VLAN used in the configured device deployment procedure to implement configured device deployment.

Precautions

    This command is an overwritten command.
    The easy-operation client vlan command is contained only in a device's pre-delivery configuration file. Users cannot manually run this command. The undo easy-operation client vlan command can be manually run.

Example

# Delete the VLAN used in the configured device deployment procedure.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client vlan

easy-operation client ztp-with-cfg enable
Function

The easy-operation client ztp-with-cfg enable command enables pre-configured device deployment.

The undo easy-operation client ztp-with-cfg enable command disables pre-configured device deployment.

By default, pre-configured device deployment is disabled.
Format

easy-operation client ztp-with-cfg enable

undo easy-operation client ztp-with-cfg enable
Parameters

None
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

Before delivery, a device can load a configuration file that contains commands for specifying file server addresses, name of an intermediate file for site deployment, and a shared key between the device and an SNMP host. After simple login configuration, the device can then automatically obtain and load correct configurations, reducing the manual operation cost.

Precautions

The easy-operation client ztp-with-cfg enable command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not need the pre-configured device deployment function, run the undo easy-operation client ztp-with-cfg enable command in the system view to disable this function.
Example

# Disable the pre-configured device deployment function on a device.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client ztp-with-cfg enable

easy-operation commander enable
Function

The easy-operation commander enable command enables the Commander function on a device.

The undo easy-operation commander enable command disables the Commander function on a device.

By default, the Commander function is disabled on a device.
Format

easy-operation commander enable

undo easy-operation commander enable
Parameters

None
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

To specify a device as the Commander, enable the Commander function on the device. The Commander can enable devices to automatically download files in zero touch device deployment, fault device replacement, and batch upgrade scenarios. On an EasyDeploy network, the Commander manages clients and delivers required information, including file server information, system software name, and configuration file name, to clients. Clients automatically download required files according to information obtained from the Commander.

Prerequisites

The Commander IP address has been configured on the device using the easy-operation commander ip-address command.

Precautions

    An EasyDeploy network has only one Commander.
    This command can be used only on the device that functions as the Commander.
    After you run the undo easy-operation commander enable command to disable the Commander function, dynamic information in the client database is deleted, and the configuration information is saved in the memory of the device. If the Commander does not restart after the Commander function is disabled, the configuration will be recovered after the Commander function is enabled again.

Example

# Enable the Commander function on a device.

<HUAWEI> system-view
[HUAWEI] easy-operation commander enable

easy-operation commander ip-address
Function

The easy-operation commander ip-address command configures the Commander IP address.

The undo easy-operation commander ip-address command deletes the Commander IP address.

By default, no Commander IP address is configured.
Format

easy-operation commander ip-address ip-address [ udp-port udp-port ]

undo easy-operation commander ip-address [ ip-address [ udp-port udp-port ] ]
Parameters
Parameter 	Description 	Value

ip-address
	

Specifies the Commander IP address.
	

The value is in dotted decimal notation.

udp-port udp-port
	

Specifies the UDP port number that the Commander uses to communicate with clients.
	

The value is an integer in the range from 1025 to 65535. The default value is 60000.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After an IP address is configured for the Commander, clients can communicate with the Commander through this IP address. To implement a batch upgrade, you need to specify the Commander IP address on clients. In zero touch provisioning (ZTP) and faulty device replacement scenarios, clients obtain the Commander IP address from the DHCP server.

Precautions

The configured Commander IP address must exist on the device that functions as the Commander.

The Commander IP address cannot be the IP address of the VLANIF interface bound to a VPN.

After the Commander function is enabled on the switch, changing the Commander IP address is not allowed on the switch. Otherwise, the Commander cannot detect and manage clients.

In batch upgrade scenarios, the Commander and clients must be configured with the same Commander IP address and UDP port number. Otherwise, clients cannot communicate with the Commander.
Example

# Configure the Commander IP address.

<HUAWEI> system-view
[HUAWEI] easy-operation commander ip-address 10.10.10.5
Warning: The pre-shared key can be modified to improve security. Continue? [Y/N]:y
Enter the pre-shared key:******
Confirm the pre-shared key:******

Table 2-18 Description of the easy-operation commander ip-address command output

Item
	

Description

Warning: The pre-shared key can be modified to improve security. Continue? [Y/N]
	

Whether to change a pre-shared key.

Regardless of whether the pre-shared key is changed, the easy-operation commander ip-address command can still be executed, and the Commander IP address can be changed successfully.

    y: The pre-shared key will be changed.
    n: The pre-shared key will not be changed.

Enter the pre-shared key
	

Enter the ciphertext of the pre-shared key.
NOTE:

    The same pre-shared key must be configured on the Commander and clients simultaneously.
    If the entered pre-shared key is invalid or the two pre-shared keys are different, the pre-shared key will not be changed. The failure to change the pre-shared key does not affect the execution of the easy-operation commander ip-address command. That is, the Commander IP address can still be changed successfully.

Confirm the pre-shared key
	

Confirm the ciphertext of the pre-shared key.
easy-operation dtls disable
Function

The easy-operation dtls disable command disables Datagram Transport Layer Security (DTLS) encryption.

The undo easy-operation dtls disable command enables DTLS encryption.

By default, DTLS encryption is enabled.
Format

easy-operation dtls disable

undo easy-operation dtls disable
Parameters

None
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

This command is mainly used in the capacity expansion scenario on a live network. If the system software of a client is V200R010C00 or a later version and that of the Commander is a version earlier than V200R010C00, you need to run the easy-operation dtls disable command on the client to disable DTLS encryption.

Precautions

    You must enable or disable DTLS encryption on the Commander and client at the same time.

    If the system software of a switch in a version earlier than V200R010C00 is upgraded to V200R010C00 or a later version, an easy-operation dtls disable configuration is automatically generated.

    If a client in V200R010C00 or a later version needs to be managed by the Commander in a version earlier than V200R010C00, you need to run the easy-operation dtls disable command on the client to disable DTLS encryption.

    If a client in a version earlier than V200R010C00 needs to be managed by the Commander in V200R010C00 or a later version and DTLS encryption is enabled on the Commander, you must upgrade the system software of the client to V200R010C00 or a later version. Otherwise, the client cannot join the existing network.

    After DTLS encryption is enabled, the shared key configured using the easy-operation shared-key command does not take effect.

    After DTLS encryption is enabled, you can run the easy-operation dtls psk command to configure the DTLS PSK.

Example

# Disable DTLS encryption.

<HUAWEI> system-view
[HUAWEI] easy-operation dtls disable

easy-operation dtls psk
Function

The easy-operation dtls psk command configures the DTLS pre-shared key (PSK).

The undo easy-operation dtls psk command restores the default DTLS PSK.

The default username and password are available in S Series Switches Default Usernames and Passwords (Enterprise Network or Carrier). If you have not obtained the access permission of the document, see Help on the website to find out how to obtain it.
Format

easy-operation dtls psk psk

undo easy-operation dtls psk
Parameters
Parameter 	Description 	Value

psk
	

Specifies the PSK.
	

The value is a string of 6 to 32 characters in plain text or a string of 48 or 68 characters in cipher text.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After DTLS encryption is enabled, you can run this command to change the DTLS PSK.

Precautions

The same PSK must be configured on the Commander and clients simultaneously.
Example

# Set the DTLS PSK to test12345.

<HUAWEI> system-view
[HUAWEI] easy-operation dtls psk test12345

easy-operation shared-key
Function

The easy-operation shared-key command configures a shared key for the Commander or a client.

The undo easy-operation shared-key command deletes the configured shared key of the Commander or client.

By default, no shared key is configured on a Commander or client.
Format

easy-operation shared-key cipher key-string

undo easy-operation shared-key
Parameters
Parameter 	Description 	Value

cipher
	

Configures a shared key in cipher text.
	

-

key-string
	

Specifies a shared key.
	

The value is a string of case-sensitive characters without spaces. A plain text key contains 1 to 64 characters, and a cipher text key contains 48 to 108 characters.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

In batch upgrade and configuration scenarios, to enhance security for communication between the Commander and clients and prevent a bogus Commander from controlling clients, run the easy-operation shared-key command to configure the same shared key for the Commander and clients.

Precautions

    The same shared key must be configured on the Commander and clients simultaneously.
    If a shared key has been configured on the Commander, the Commander cannot manage clients running versions earlier than V200R008C00 and clients that have no shared key configured.
    The shared key configuration does not affect zero touch device deployment.

    After DTLS encryption is enabled, the shared key configured using the easy-operation shared-key command does not take effect.

Example

# Configure a shared key on the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation shared-key cipher Easy@huawei

execute to
Function

The execute to command enables the Commander to deliver commands to clients or client groups.
Format

execute [ script-file ] to client { all | { client-id1 [ to client-id2 ] }&<1-10> }

execute [ script-file ] to group { all | { name group-name }&<1-10> }
Parameters
Parameter 	Description 	Value
script-file 	Indicates a script file name. If no script file name is specified, the script made online is delivered. 	The value is a string of 5 to 64 characters, depending on the actual situation.
client { client-id1 [ to client-id2 ] } 	Indicates that commands are delivered to a specified client. 	The value is an integer. It depends on the maximum number of clients supported by the Commander.

For details, see Maximum Number of Managed Clients on the Commander.
client all 	Indicates that commands are delivered to all clients. 	-
group name group-name 	Indicates that commands are delivered to a specified client group. 	The value is a string of 1 to 31 case-sensitive characters without spaces. The character string must start with a letter.
group all 	Indicates that commands are delivered to all client groups. 	-
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

To implement a batch configuration of clients on a network supporting EasyDeploy, edit commands to be run, save them as a script, and deliver the edited commands to clients through the Commander.
Example

# Enable the Commander to deliver commands to all clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] execute to client all
Warning: This operation will start the batch command executing process to the cl
ients. Continue?[Y/N]:y
Info: This operation will take some seconds, please wait..

group build-in
Function

The group build-in command configures a built-in group on the Commander and displays the Easy-Operation group view.

The undo group build-in command deletes a built-in group.

By default, no built-in group is configured.
Format

group build-in device-type [ vendor vendorname]

undo group build-in [ device-type [ vendor vendorname] ]

    If clients of the same type from different vendors exist on the network, you need to configure vendor vendorname to distinguish the clients.
    If vendor vendorname is specified in the group build in command, the device type view of the corresponding vendor is displayed.
    If vendor vendorname is not specified in the group build in command, the vendor type is not specified.

Parameters
Parameter 	Description 	Value

device-type
	

Specifies the device type in a group.
	

The value is an enumerated type and case-insensitive. The following device types are supported:

    S2730S-S
    S2750-EI
    S5700-10P-LI
    S5700-EI
    S5700-HI
    S5700-P-LI
    S5700-SI
    S5700-TP-LI
    S5700-X-LI
    S5700S-LI
    S5700S-P-LI
    S5700S-X-LI
    S5710-EI
    S5710-HI
    S5710-X-LI
    S5720-EI
    S5720-HI
    S5720-LI
    S5720-SI
    S5720S-LI
    S5730-HI
    S5730-SI
    S5730S-EI
    S5731-H
    S5731-S
    S5731S-H
    S5731S-S
    S5732-H
    S5735-L
    S5735-L1
    S5735-L-I
    S5735S-L1
    S5735-S
    S5735S-H
    S5736-S
    S6700-EI
    S6720-HI
    S6720-LI
    S6720-SI
    S6720S-S
    S6720S-LI
    S6720S-SI
    S6730-H
    S6730S-H
    S6730-S
    S6730S-S
    S6735-S
    S9700

vendor vendorname
	

Displays the group of the device type of the specified vendor.
	

The value is a character string.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

If clients on a network are devices of the same type, run the group build-in command to configure a built-in group based on the device type. This group enables these clients to download the same files, such as the system software package and patch file.

Precautions

    If a client matches both a customized group (configured using the group custom command) and a built-in group, it prefers the files specified in the customized group.

    A maximum of 256 groups (including both built-in groups and customized groups) can be configured on the Commander.

    If you run the undo group build-in command without specifying device-type, the command deletes all the built-in groups.

Example

# Configure a built-in group and specify the device type as S5732-H.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group build-in s5732-h
[HUAWEI-easyoperation-group-build-in-s5732-h]

group custom
Function

The group custom command configures a customized group and displays the Easy-Operation group view on the Commander.

The undo group custom command deletes a customized group.

By default, no customized group is configured.
Format

group custom { mac-address | esn | ip-address | model | device-type } group-name

undo group custom [ { mac-address | esn | ip-address | model | device-type } [ group-name ] ]
Parameters
Parameter 	Description 	Value
group-name 	Specifies the name of a customized group. 	The value is a string of 1 to 31 case-sensitive characters without spaces. The character string must start with a letter.
mac-address 	Configures a MAC address-based group. 	-
esn 	Configures an ESN-based group. 	-
ip-address 	Configures an IP address-based group. 	-
model 	Configures a device model-based group. 	-
device-type 	

Configures a device type-based group.

This parameter applies when a new device type is not defined for built-in groups on the Commander.
	-
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

If multiple devices on a network need to download the same file, you can configure a group for the devices on the Commander to simplify device configuration. You can configure various customized groups on the Commander according to the deployment on your network devices.

Precautions

    A maximum of 256 groups (including both built-in groups and customized groups) can be configured on the Commander.

    Customized groups can have matching rules based on MAC address, ESN, IP address, device model, and device type, listed in descending order of priority.

    Running the undo group custom command without any parameters will delete all the customized groups.

Example

# Configure a MAC address-based customized group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test]

license
Function

The license command specifies a license file to be downloaded to clients.

The undo license command deletes the configured license file information.
Format

license file-name

undo license [ file-name ]
Parameters
Parameter 	Description 	Value
file-name 	Specifies the name of a license file to be downloaded to clients. The file name has an extension .dat and may contain a file path. 	The value is a string of 5 to 64 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to load a license file, specify the license file on the Commander.

Precautions

You can load a license file only on modular switches. When a fixed switch serves as the client, the license file cannot be loaded even after you specify the license file information.
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

The names of the files to be downloaded cannot be the same as system license files. Otherwise, the upgrade fails.
Example

# Specify a default license file for clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] license easy/test.dat

# Specify a license file in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] license license.dat

match
Function

The match command configures a matching rule for a group on the Commander.

The undo match command deletes a matching rule for a group on the Commander.

By default, a group has no matching rule.
Format

match mac-address mac-address [ mac-mask | mac-mask-length ]

match esn esn

match ip-address ip-address [ ip-mask | ip-mask-length ]

match model model

match device-type device-type

undo match mac-address [ mac-address [ mac-mask | mac-mask-length ] ]

undo match esn [ esn ]

undo match ip-address [ ip-address [ ip-mask | ip-mask-length ] ]

undo match model [ model ]

undo match device-type [ device-type ]
Parameters
Parameter 	Description 	Value

mac-address mac-address
	

Configures a MAC address-based matching rule.

A group can have multiple MAC addresses or MAC address ranges specified. A client matches the group as long as it matches one of MAC addresses.
	

The value is in the H-H-H format, where each H contains four hexadecimal digits.

mac-mask
	

Specifies the mask of a MAC address.
	

The value is in the H-H-H format, where each H contains four hexadecimal digits. By default, the mask is ffff-ffff-ffff.

mac-mask-length
	

Specifies the mask length of a MAC address.
	

The value is an integer that ranges from 0 to 48. By default, the mask length is 48.

esn esn
	

Configures an ESN-based matching rule.

A group can have multiple ESNs specified. A client matches the group as long as it matches one of ESNs.
	

The value is a string of 10 to 32 case-insensitive characters without spaces.

ip-address ip-address
	

Configures an IP address-based matching rule.

A group can have multiple IP addresses or IP address ranges (for example 192.168.110.0) specified. A client matches the group as long as it matches one of IP addresses.
	

The value is in dotted decimal notation.

ip-mask
	

Specifies the mask of an IP address.
	

The value is in dotted decimal notation. By default, the mask is 255.255.255.255.

ip-mask-length
	

Specifies the mask length of an IP address.
	

The value is an integer that ranges from 0 to 32. By default, the mask length is 32.

model model
	

Configures a device model-based matching rule.
	

The value is a string of 1 to 32 case-insensitive characters without spaces.

device-type device-type
	

Configures a device type-based matching rule.
	

The value is a string of 1 to 32 case-insensitive characters without spaces.
Views

Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After configuring a customized group on the Commander, configure matching rules for the group. A client can obtain the files specified in a group only when it matches a rule in the group.

Precautions

    A matching rule can be configured only in a customized group of the corresponding type. For example, the match mac-address mac-address command can only be used in a MAC address-based customized group.
    A MAC address-based, ESN-based, or IP address-based group each supports a maximum of 256 matching rules. The total number of group rules on the device cannot exceed 256.
    For groups created based on device models, only one matching rule can be defined for each group. The device model specified in a device model-based group must be the same as the actual device model. Otherwise, clients cannot match the group.
    For groups created based on device types, only one matching rule can be defined for each group. The device type specified in a device type-based group must be the same as the actual device type. Otherwise, clients cannot match the group.

Example

# Configure two MAC address-based matching rules in a customized group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] match mac-address 00e0-fc12-3456
[HUAWEI-easyoperation-group-custom-test] match mac-address 00e0-fc12-3478

mngvlanid
Function

The mngvlanid command sets a management VLAN for a cluster.

The undo mngvlanid command restores the default management VLAN of a cluster.

By default, the management VLAN is VLAN 1.
Format

mngvlanid vlan-id

undo mngvlanid
Parameters
Parameter 	Description 	Value
vlan-id 	Specifies a VLAN ID. 	The value is an integer ranging from 1 to 4094.
Views

Cluster view
Default Level

2: Configuration level
Usage Guidelines

On a Commander switch, if a management VLAN is changed or the management VLAN and its corresponding VLANIF interface are deleted, the cluster is automatically deleted.

If you change the ID of the management VLAN on a client switch, the client switch automatically withdraws from the cluster.

Use the management VLAN only on the cluster and do not use the VLAN for other services such as the Rapid Ring Protection Protocol (RRPP) and multicast services. Otherwise, service functions will be adversely affected.
Example

# Change the management VLAN of the device to VLAN 2.

<HUAWEI> system-view

[HUAWEI] cluster

[HUAWEI-cluster] mngvlanid 2

ndp enable (interface view)
Function

The ndp enable command enables NDP on an interface.

The undo ndp enable command disables NDP on an interface.

The ndp disable command disables NDP on an interface.

By default, NDP is enabled on an interface.
Format

ndp enable

undo ndp enable

ndp disable
Parameters

None
Views

Ethernet interface view, GE interface view, XGE interface view, 25GE interface view, Eth-Trunk interface view, 100GE interface view, 40GE interface view, port group view, MultiGE interface view
Default Level

2: Configuration level
Usage Guidelines

Before you enable network topology collection, ensure that the NDP and NTDP functions have been enabled.
Example

# Disable NDP in the GE0/0/1 interface view.

<HUAWEI> system-view

[HUAWEI] interface gigabitethernet 0/0/1

[HUAWEI-GigabitEthernet0/0/1] undo ndp enable

ndp enable (system view)
Function

The ndp enable command enables NDP globally or on an interface.

The undo ndp enable command disables NDP globally or on an interface.

The ndp disable command disables NDP globally or on an interface.

By default, NDP is enabled globally.
Format

ndp enable [ interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10> ]

undo ndp enable [ interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10> ]

ndp disable interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10>

ndp disable
Parameters
Parameter 	Description 	Value

interface interface-type interface-number1 [ to interface-type interface-number2 ]
	

Specifies the interface on which NDP is enabled or disabled.

    interface-type interface-number1 indicates the type and number of the first interface.
    interface-type interface-number2 indicates the type and number of the last interface.

If you run the ndp enable command or the undo ndp enable command without specifying the interface, NDP is enabled or disabled globally.
	

-
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Usage Scenario

Before you enable network topology collection, ensure that the NDP and NTDP functions have been enabled..

Configuration Impact

If the ndp enable command is run more than once, all configurations take effect.
Example

# Enable NDP on the GE0/0/1 interface.

<HUAWEI> system-view

[HUAWEI] ndp enable interface gigabitethernet 0/0/1

ndp timer aging
Function

The ndp timer aging command configures an aging time for NDP entries on the receiving switch.

The undo ndp timer aging command restores the default aging time of NDP entries on the receiving switch.

By default, the aging time of the NDP entries on the receiving switch is 180 seconds.
Format

ndp timer aging aging-time

undo ndp timer aging
Parameters
Parameter 	Description 	Value
aging-time 	Specifies the aging time of the NDP entries on the receiving switch. 	The value is an integer that ranges from 6 to 255, in seconds.
Views

System view
Default Level

2: Configuration level
Usage Guidelines
Usage Scenario

If the receiving switch does not receive NDP packets from a local switch before the aging time of the NDP entry on the receiving switch expires, the receiving switch automatically deletes the neighbor entry corresponding to the local switch.
Prerequisites

NDP has been enabled on the receiving switch.
Precautions

The aging time of the NDP entries on the receiving switch must be greater than the interval for sending NDP packets.
Example

# Set the aging time of NDP entries to 175 seconds.

<HUAWEI> system-view

[HUAWEI] ndp timer aging 175

ndp timer hello
Function

The ndp timer hello command configures the interval for sending NDP packets.

The undo ndp timer hello command restores the default interval for sending NDP packets.

By default, the interval for sending NDP packets is 60 seconds.
Format

ndp timer hello interval

undo ndp timer hello
Parameters
Parameter 	Description 	Value
interval 	Specifies the interval for sending NDP packets. 	The value is an integer that ranges from 5 to 254, in seconds.
Views

System view
Default Level

2: Configuration level
Usage Guidelines
Usage Scenario

To configure an interval for sending NDP packets, run the ndp timer hello command. The NDP interface then sends NDP packets at the specified interval.
Prerequisites

NDP has been enabled on the switch.
Precautions

The interval for sending NDP packets must be less than the aging time of NDP entries on the receiving switch.
Example

# Set the interval for sending NDP packets to 55 seconds.

<HUAWEI> system-view

[HUAWEI] ndp timer hello 55

ndp trunk-member enable
Function

The ndp trunk-member enable command enables trunk member interface-based NDP.

The undo ndp trunk-member enable command disables trunk member interface-based NDP.

By default, trunk member interface-based NDP is disabled.
Format

ndp trunk-member enable

undo ndp trunk-member enable
Parameters

None
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Usage Scenario

If a local switch connects to a remote switch through a trunk link, the local switch discovers neighbors and displays NTDP topology information based on the trunk interface. To allow the local switch to obtain link information about trunk member interfaces, run the ndp trunk-member enable command to enable trunk member interface-based NDP. The topology information about the trunk member interfaces can then be queried on the NMS.

Prerequisites

NDP has been globally enabled using the ndp enable command in the system view.
Example

# Enable trunk member interface-based NDP.

<HUAWEI> system-view

[HUAWEI] ndp enable

[HUAWEI] ndp trunk-member enable

ntdp enable (interface view)

Function

The ntdp enable command enables NTDP on an interface.

The undo ntdp enable command disables NTDP on an interface.

The ntdp disable command disables NTDP on an interface.

By default, NTDP is enabled on an interface.
Format

ntdp enable

undo ntdp enable

ntdp disable
Parameters

None
Views

Ethernet interface view, GE interface view, XGE interface view, 25GE interface view, Eth-Trunk interface view, 100GE interface view, 40GE interface view, port group view, MultiGE interface view
Default Level

2: Configuration level
Usage Guidelines

Before you enable network topology collection, ensure that the NDP and NTDP functions have been enabled.
Example

# Disable NTDP in the GE0/0/1 interface view.

<HUAWEI> system-view

[HUAWEI] interface gigabitethernet 0/0/1

[HUAWEI-GigabitEthernet0/0/1] undo ntdp enable

ntdp enable (system view)

Function

The ntdp enable command enables NTDP globally.

The undo ntdp enable command disables NTDP globally.

The ntdp disable command disables NTDP globally.

By default, NTDP is enabled globally.
Format

ntdp enable

undo ntdp enable

ntdp disable
Parameters

None
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Before you enable network topology collection, ensure that the NDP and NTDP functions have been enabled.
Example

# Enable NTDP globally.

<HUAWEI> system-view

[HUAWEI] ntdp enable

ntdp explore
Function

The ntdp explore command enables you to manually collect topology information.
Format

ntdp explore
Parameters

None
Views

User view
Default Level

2: Configuration level
Usage Guidelines
Usage Scenario

You can run this command to initiate the process of collecting topology information on an NTDP-capable device. The NTDP-capable device can then effectively manage and monitor devices on the network in real time to reflect the network topology changes.

You can also run the ntdp timer command to allow a switch to automatically collect topology information at a specified interval.
Example

# Manually start topology information collection.

<HUAWEI> ntdp explore

ntdp hop
Function

The ntdp hop command sets the maximum number of hops for collecting topology information through NTDP.

The undo ntdp hop command restores the default maximum number of hops for collecting topology information through NTDP.

By default, the maximum number of hops is 8 for collecting topology information through NTDP.
Format

ntdp hop max-hop-value

undo ntdp hop
Parameters
Parameter 	Description 	Value
max-hop-value 	Specifies the maximum number of hops for collecting topology information through NTDP. 	The value is an integer that ranges from 1 to 8.
Views

System view
Default Level

2: Configuration level
Usage Guidelines
Usage Scenario

When the maximum number of hops for collecting topology information through NTDP is configured, topology information about switches in the hop range can be collected, which avoids collection of infinite topology information. The larger the maximum number of hops is, the more the memory of the topology collection switch is consumed.
Prerequisites

NTDP has been enabled on the switch.
Example

# Set the range for collecting topology information through NTDP to 5 hops.

<HUAWEI> system-view

[HUAWEI] ntdp hop 5

ntdp timer
Function

The ntdp timer command sets the interval for collecting topology information through NTDP.

The undo ntdp timer command restores the default interval for collecting topology information through NTDP.

By default, the interval for collecting topology information through NTDP is 0 minutes. That means that no topology information is periodically collected.
Format

ntdp timer interval

undo ntdp timer
Parameters
Parameter 	Description 	Value

interval
	

Specifies the interval for collecting topology information through NTDP.
	

The value is an integer that ranges from 0 to 65535, in minutes.
NOTE:

The Commander collects network topology information at an interval of 5 minutes; therefore, you are advised to set the interval for collecting topology information through NTDP to less than 5 minutes.
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Usage Scenario

After the interval for collecting topology information through NTDP is set, the switch collects topology information at this interval.

Prerequisites

NTDP has been enabled on the switch.
Example

# Set the interval for collecting topology information to 2 minutes.

<HUAWEI> system-view

[HUAWEI] ntdp timer 2

ntdp timer hop-delay
Function

The ntdp timer hop-delay command sets a delay after which the first interface forwards NTDP topology request packets.

The undo ntdp timer hop-delay command restores the default delay.

By default, the first interface forwards NTDP topology request packets after a delay of 200 milliseconds.
Format

ntdp timer hop-delay hop-delay-time

undo ntdp timer hop-delay
Parameters
Parameter 	Description 	Value

hop-delay-time
	

Specifies the delay after which the first interface forwards NTDP topology request packets.
	

The value is an integer that ranges from 1 to 1000, in milliseconds.
Views

System view
Default Level

2: Configuration level
Usage Guidelines

This command takes effect only after NTDP is enabled on the switch.
Example

# Set the hop delay for forwarding NTDP topology request packets to 300 milliseconds.

<HUAWEI> system-view

[HUAWEI] ntdp timer hop-delay 300

ntdp timer port-delay
Function

The ntdp timer port-delay command sets a delay after which interfaces other than the first one forwards NTDP topology request packets.

The undo ntdp timer port-delay command restores the default delay.

By default, interfaces other than the first one forward NTDP topology request packets after a delay of 20 milliseconds.
Format

ntdp timer port-delay port-delay-time

undo ntdp timer port-delay
Parameters
Parameter 	Description 	Value
port-delay-time 	Specifies the delay after which interfaces other than the first one forward NTDP topology request packets. 	The value is an integer that ranges from 1 to 1000, in milliseconds.
Views

System view
Default Level

2: Configuration level
Usage Guidelines

The ntdp timer port-delay command takes effect only after NTDP is enabled on the switch.
Example

# Set the delay for interfaces other than the first one on the device to forward NTDP topology request packets to 40 milliseconds.

<HUAWEI> system-view

[HUAWEI] ntdp timer port-delay 40

patch
Function

The patch command specifies a patch file to be downloaded to clients.

The undo patch command deletes the configured patch file information.
Format

patch file-name

undo patch [ file-name ]
Parameters
Parameter 	Description 	Value

file-name
	

Specifies the name of a patch file to be downloaded to clients. The file name has an extension .pat and may contain a file path.
	

The value is a string of 5 to 48 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to load a patch file, specify the patch file on the Commander.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

Example

# Specify a default patch file for clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] patch easy/test.pat

# Specify a patch file in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] patch patch.pat

reset easy-operation client-database
Function

The reset easy-operation client-database command clears the client database on the Commander.
Format

reset easy-operation client-database
Parameters

None
Views

User view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

The client database contains client information that is manually configured by the administrator and learned dynamically by the Commander. When the number of clients in the client database exceeds the limit, information about new clients cannot be added to the database. To release space in the client database, use this command to clear the client database after confirming that the manually configured client information can be deleted.

Precautions

This command deletes both manually configured client information and dynamically learned client information. Before running this command, confirm that manually configured client information can be deleted. If the Commander is enabled to learn client information, it continues adding learned client information to the client database after you run this command.
Example

# Clear the client database on the Commander.

<HUAWEI> reset easy-operation client-database
Warning: All of the database information of client and relative replace in this 
device will be cleared. Continue?[Y/N]:y
<HUAWEI>

reset easy-operation client-offline
Function

The reset easy-operation client-offline command clears lost state clients.
Format

reset easy-operation client-offline
Parameters

None
Views

User view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

The maximum number of clients managed by the Commander depends on the device specifications. If the number of clients exceeds the upper limit, information about new clients cannot be configured on the Commander. Delete the clients in the lost state that occupy the database resources for a long time.
Precautions

    If the clients automatically join the management domain of the Commander, they can be deleted.
    If the clients are configured manually, they cannot be deleted but their status changes to unknown.
    If client replacement information is configured using the client replace command, client IDs in the client database will not be deleted.

Example

# Delete clients in the lost state from the client database.

<HUAWEI> reset easy-operation client-offline
Warning: All of clients which are in the lost status will be deleted. Continue?[Y/N]:y

reset ndp statistics
Function

The reset ndp statistics command clears NDP packet statistics from one or all the interfaces of a device.
Format

reset ndp statistics [ interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10> ]
Parameters
Parameter 	Description 	Value
interface interface-type interface-number1 [ to interface-type interface-number2 ] 	
Clears NDP packet statistics from a specified interface.

    interface-type interface-number1 specifies the type and number of the first interface.
    interface-type interface-number2 indicates the type and number of the last interface.

When optional parameters are not specified, global statistics on NDP packets are cleared.
	-
Views

User view
Default Level

3: Management level
Usage Guidelines

If you run the reset ndp statistics command without setting optional parameters, the NDP packet statistics of all interfaces are cleared.
Example

# Delete NDP packet statistics from all the interfaces of the device.

<HUAWEI> reset ndp statistics

system-software
Function

The system-software command specifies the name and version of the system software package to be downloaded to clients.

The undo system-software deletes the configured software name and version.
Format

system-software file-name [ version ]

undo system-software [ file-name [ version ] ]
Parameters
Parameter 	Description 	Value

file-name
	

Specifies the name of a system software package to be downloaded to clients. The file name has an extension .cc and may contain a file path.
	

The value is a string of 4 to 48 case-insensitive characters without spaces. The string cannot contain the following characters: ~ * : ' " ? < > | [ ] % \ /.

version
	

Specifies the version of a system software package, for example, V200R024C00. If the specified software version is the same as the software version running on the client, a software upgrade will not be performed for the client.
	

The value is a string of 11 to 32 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to upgrade their system software, specify the required system software information on the Commander.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

Example

# Specify a default system software package for clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] system-software easy/sV200R024C00.cc

# Specify a system software package in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] system-software V200R024C00.cc V200R024C00

tftp-server/sftp-server/ftp-server
Function

The tftp-server command configures the TFTP server IP address on the Commander.

The sftp-server command configures the SFTP server IP address, user name, and password on the Commander.

The ftp-server command configures the FTP server IP address, user name, and password on the Commander.

The undo tftp-server command deletes the TFTP server IP address on the Commander.

The undo sftp-server command deletes the SFTP server IP address, user name, and password on the Commander.

The undo ftp-server command deletes the FTP server IP address, user name, and password on the Commander.

By default, no file server IP address, user name, or password is configured on the Commander.
Format

tftp-server ip-address

{ sftp-server | ftp-server } ip-address [ username username [ password password ] ]

undo tftp-server [ ip-address ]

undo { sftp-server | ftp-server } [ ip-address ] [ username username ] [ password password ]
Parameters
Parameter 	Description 	Value

ip-address
	

Specifies the IP address of a file server (TFTP, SFTP, or FTP server).
	

The value is in dotted decimal notation.

username username
	

Specifies the user name used to log in to the SFTP or FTP server.
	

The value is a string of 1 to 64 case-sensitive characters.

password password
	

Specifies the password used to log in to the SFTP or FTP server.
	

The value is a case-sensitive character string. A password in plain text contains 1 to 16 characters, and a ciphertext password contains 48 characters.

In the configuration file, the password is displayed in ciphertext regardless of whether it is input in plaintext or ciphertext.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

Files that need to be downloaded by clients are saved in a file server. After clients obtain information from the Commander about the necessary files, the clients download the files from the file server specified on the Commander. Therefore, the file server information must be configured on the Commander.

Precautions

    If the file server is an SFTP or FTP server and has a user name and password configured, configure the same user name and password on the Commander.
    Using an SFTP server is recommended because FTP and TFTP have security risks.
    Information about only one file server can be configured. If you run this command multiple times, only the latest configuration takes effect.
    Ensure that the files required for clients have been saved on the specified file server.

Example

# Specify the IP address, user name, and password of the SFTP server on the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] sftp-server 10.10.10.5 username easyoperation password YsHsjx_202206

# Specify the TFTP server IP address on the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] tftp-server 10.10.10.5

topology enable
Function

The topology enable command enables the Commander to collect network topology information.

The undo topology enable command disables the Commander from collecting network topology information.

By default, the Commander is disabled from collecting network topology information.
Format

topology enable

undo topology enable
Parameters

None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

You can run the topology enable command to enable the Commander to collect network topology information every 5 minutes. Based on the collected information, you can implement zero touch device deployment and automatic faulty device replacement.
Prerequisites

NDP and NTDP have been enabled.

The interval for collecting topology information through NTDP has been set.
Example

# Enable network topology information collection on the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] topology enable

topology save
Function

The topology save command saves network topology information collected by the Commander.
Format

topology save
Parameters

None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

Network topology information collected by the Commander is saved only in the device memory. If the device restarts, the saved information is lost. You can run this command to save the collected network topology information in the flash memory and name it ezop-topo.xml.
Prerequisites

Network topology information collection has been enabled.
Precautions

If you run this command multiple times, only the latest configuration takes effect.
Example

# Save the current network topology information collected by the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] topology save
Warning: This command will record the information of topology. Continue? [Y/N]:y

undo group
Function

The undo group command deletes all groups.
Format

undo group
Parameters
None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

This command deletes all the groups on a switch, including built-in groups and customized groups.
Example

# Delete all groups.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] undo group
Warning: All of the group configuration will be cleared. Continue?[Y/N]:y

upgrade group
Function

The upgrade group command starts a batch upgrade on the Commander.
Format

upgrade group [ group-name ] &<1-15>
Parameters
Parameter 	Description 	Value
group-name 	

Specifies a group name. The Commander starts a batch upgrade for all the clients that match the specified group.

A maximum of 15 groups can be specified for a batch upgraded. The group names are separated by a space.
	The value is a string of 1 to 31 case-sensitive characters without spaces. The character string must start with a letter.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After the groups, files to be loaded, and file activation mode are specified on the Commander, you can run this command to start a batch upgrade for clients.

Precautions

    If group-name is not specified, a batch upgrade is performed on all clients matching all the groups on the Commander.

    Before running this command, ensure that configurations of the clients have been saved.

    If a client is a stack system, its system MAC address will change after the upgrade, because the master switch changes. In this case, the client ID of the stack system is displayed as LOST on the Commander. To avoid this problem, configure the stack system MAC address to the MAC address of a member switch.

Example

# Start a batch upgrade for clients matching all the groups.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] upgrade group
Warning: This command will start the upgrade process of all groups and clients i
n these groups may reboot. Ensure that configurations of the clients have been s
aved. Continue?[Y/N]:y

# Start a batch upgrade for clients matching specified groups.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] upgrade group test1 test2 test3
Warning: This command will start the upgrade process of the group and clients in
 this group may reboot. Ensure that configurations of the clients have been save
d. Continue?[Y/N]:y

web-file
Function

The web-file command specifies a web page file to be downloaded to clients.

The undo web-file command deletes the configured web page file information.
Format

web-file file-name

undo web-file [ file-name ]
Parameters
Parameter 	Description 	Value
file-name 	Specifies the name of a web page file to be downloaded to clients. The file name has an extension .web.7z or .web.zip and may contain a file path. 	The value is a string of 8 to 64 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to load a web page file, specify the web page file on the Commander.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

Example

# Specify a default web page file for clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] web-file easy/test.web.7z

# Specify a web page file in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] web-file test.web.7z

module
Function

The module command specifies a module file to be downloaded.

The undo module command deletes information about the module file to be downloaded.
Format

module file-name

undo module [ file-name ]
Parameters
Parameter 	Description 	Value

file-name
	

Specifies the name (*.mod) of a module file to be loaded to clients. The file path can be specified.
	

The value is a string of 5 to 48 case-insensitive characters. It cannot contain spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When a client needs to load a module file, the module file needs to be specified.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

Example

# Specify a default module file.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] module easy/test.mod

# Specify a module file in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] module test.mod

