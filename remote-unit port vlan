remote-unit port vlan
Function

The remote-unit port vlan command configures allowed VLANs for downlink interfaces on RUs in batches.

The undo remote-unit port vlan command deletes the allowed VLAN configuration from downlink interfaces on RUs.

By default, a downlink interface of an RU allows packets from VLAN 1 to pass through.
Format

remote-unit { ruid1 [ to ruid2] } &<1-8> port { portid1 [ to portid2 ] } &<1-32> { tagged | untagged } vlan { vlan-id1 [ to vlan-id2 ] } &<1-10>

undo remote-unit { ruid1 [ to ruid2] } &<1-8> port { portid1 [ to portid2 ] } &<1-32> { tagged | untagged } { vlan { vlan-id1 [ to vlan-id2 ] } &<1-10> | all }
Parameters
Parameter 	Description 	Value

ruid1 [ to ruid2 ]
	

Specifies IDs of RUs:

ruid1 indicates the ID of the first RU. to ruid2 indicates the ID of the last RU. ruid2 must be greater than or equal to ruid1.
	

ruid1 is an integer that ranges from 0 to 16777215.

ruid2 is an integer that ranges from 0 to 16777215.

portid1 [ to portid2 ]
	

Indicates numbers of downlink interfaces:

portid1 specifies the number of the first interface. to portid2 specifies the number of the last interface. portid2 must be greater than or equal to portid1.
	

portid1 is an integer that ranges from 1 to 32.

portid2 is an integer that ranges from 1 to 32.

vlan-id1 [ to vlan-id2 ]
	

Specifies allowed VLANs:

    vlan-id1 specifies the first VLAN ID.
    to vlan-id2 specifies the last VLAN ID. vlan-id2 must be greater than or equal to vlan-id1.

	

vlan-id1 is an integer that ranges from 1 to 4094.

vlan-id2 is an integer that ranges from 1 to 4094.

tagged
	

Configures the downlink interfaces to forward packets of the specified VLANs in tagged mode.
	

-

untagged
	

Configures the downlink interfaces to forward packets of the specified VLANs in untagged mode.
	

-

all
	

Deletes all allowed VLANs from downlink interfaces on the specified RUs.
	

-
Views

remote-unit view
Default Level

2: Configuration level
Usage Guidelines

Usage Scenario

An RU can connect to different types of terminals using its downlink interfaces and distinguish terminal services by joining its downlink interfaces to different VLANs. You can run the remote-unit port vlan command to configure allowed VLANs for downlink interfaces on RUs in batches so that different service VLANs can be assigned to different terminals.

An RU saves the VLAN configuration delivered by the central switch to it in its flash memory and forwards traffic based on this VLAN configuration after being powered on. After the RU goes online on the central switch, the central switch synchronizes the latest VLAN configuration to the RU's flash memory.

Prerequisites

You have run the vlan mode manual command to configure the manual VLAN mode for the RU.

Follow-up Procedure

After you run the commands for configuring the VLAN mode for an RU and VLANs for RU interfaces, run the commit command to deliver the VLAN configuration to the RU or bring the RU offline and then online again for the configuration to take effect.
Example

# Configure downlink interfaces 1 to 4 on RUs 0 to 4 to forward packets of VLAN 2 in tagged mode.

<HUAWEI> system-view
[HUAWEI] remote-unit
[HUAWEI-remote-unit] remote-unit 0 to 4 port 1 to 4 tagged vlan 2

