Table 2-8 Description of the display easy-operation download-status command output

Item
	

Description

ID/Client ID
	

Client ID.

Mac address
	

Client MAC address.

ESN
	

Client ESN.

Host name
	

Client host name.

IP address
	

Client IP address.

Method
	

EasyDeploy scenario.

    Zero-touch: zero touch device deployment and faulty device replacement.
    Upgrade: batch upgrade.

Phase
	

File download phase: Sys-file, Config-file, Patch-file, Web-file, License-file, Custom-file, Activating, Rebooting, and Unknown.

Status
	

File download status.

    Upgrading: The client is downloading a file.
    Waiting: The client is waiting for download.
    Failed: The client fails to download a file because its storage space is insufficient or the file to be downloaded does not exist.

IP address of file server
	

File server IP address.

Type of file server
	

File server type.

Username of file server
	

User name for accessing the file server.

System-software file
	

System software that is being downloaded.

Configuration file
	

Configuration file that is being downloaded.

Patch file
	

Patch file that is being downloaded.

WEB file
	

Web page file that is being downloaded.

License file
	

License file that is being downloaded.

Customs file 1
	

First user-defined file that is being downloaded.

Customs file 2
	

Second user-defined file that is being downloaded.

Customs file 3
	

Third user-defined file that is being downloaded.

DownloadSize(byte)
	

Size of a downloaded file.
NOTE:

If the system software is upgraded from V200R009 or an earlier version to V200R010 or a later version, this field displays -.

Activating file time
	

File activation time. Immediately indicates that files are activated immediately after they are downloaded.

Activating file method
	

File activation mode. Default indicates the default activation mode; Reload indicates that all files are activated by device resetting.

Reason
	

File download result. For possible results and solutions, see Table 2-9.

Description
	

Result description. For possible results and measures, see Table 2-9.
Table 2-9 Download results and solutions

Reason
	

Description
	

Solution

Input has been detected in the console
	

Input has been detected in the console. EasyOperation will stop
	

During zero touch device deployment, input is detected on the console interface of the device to be deployed, so EasyOperation stops. You are advised to restart the device to restart the deployment process. Do not input anything on the console interface during EasyOperation.

The USB upgrade is working
	

The USB upgrade is working. EasyOperation will stop
	

The device is performing USB-based deployment. USB-based deployment and EasyDeploy are mutually exclusive. You are advised to stop one of the two functions.

The uni-mng system is working
	

The uni-mng system is working. EasyOperation will stop
	

The device is running SVF. SVF and EasyDeploy are mutually exclusive. You are advised to stop one of the two functions.

The device has in initial state
	

The device is in initial state. EasyOperation will stop
	

The device is in web initialization mode. Web initial login mode and EasyDeploy are mutually exclusive. You are advised to stop one of the two functions.

Getting download-information failed. The device will get download-information again
	

Getting download-information failed. The device will be back to initialization state.
	
The device to be deployed fails to obtain file download information.

    If the device is deployed using an intermediate file, check whether the intermediate file has the correct content and format, whether the network between the device and server that stores the intermediate file is normal, and whether the configured file server user name and password are correct.
    If the device is deployed using the Commander, check whether the network between the device and Commander is normal and whether the configured download information is correct.

Downloading file failed
	

The system software file and version are wrong. The device will be back to initialization state
	

The system software version is specified but the system software file is not specified. You need to specify the system software file.

Downloading the system software file failed. Please check the reason
	

    Check whether a network fault occurs during file download.
    Check whether the file server that stores files is working properly.
    Check whether the file names of the system software, patch file, configuration file, license file, web file, and user-defined file are valid.
    Check whether the system software, patch file, configuration file, license file, web file, and user-defined file to be downloaded have the same names as the current system files.
    Check whether the device to be upgraded has enough disk space.

Downloading the patch file failed. Please check the reason

Downloading the web file failed. Please check the reason

Downloading the license file failed. Please check the reason

Downloading the configuration file failed. Please check the reason

Downloading the custom file 1 failed. Please check the reason

Downloading the custom file 2 failed. Please check the reason

Downloading the custom file 3 failed. Please check the reason

The file does not exist in the file server
	

The file does not exist in the file server
	

The file to be downloaded does not exist in the file server. Ensure that the file exists in the file server.

There is no enough space on the device
	

There is no enough space on master device or board
	

The disk space on the device to be upgraded is insufficient for the system software. Ensure that the device has enough disk space.

The file server is unreachable
	

The file server is unreachable
	

Check whether the configured file server IP address is correct and whether the network connection between the device and file server is normal.

Authentication on file server fails
	

Authentication on file server fails
	
Authentication fails on the file server. Check whether the following configurations are correct:

    User name and password
    User management configuration on the file server
    Other user management configurations

The filename is the same as the system file
	

The filename of the patch is same as the system patch file
	

The downloaded patch has the same file name as the system patch file.

The filename of the system-software is same as the system file
	

The downloaded patch has the same file name as the system patch file.

Check file failed
	

System-software crc check error
	

The CRC check of the downloaded system software fails. Check whether the system software of the file server is correct.

The file is a system file on the other device
	

The file is system file on other device
	

The patch to be downloaded is the system file on the standby or slave device.

Activate file failed. The device will be back to initialization state after 5 minutes
	

Activating file failed. The device will be back to initialization state after 5 minutes
	

File activation because of the following reasons:

    Failed to set the system software, configuration file, and patch file as next startup files. Check whether these files are available.
    Failed to start the device. Check whether the device has unsaved configuration, whether next startup files on the master and standby devices are consistent, and whether system files are damaged.

Reboot system failed
	

The WLAN configuration conflicts with the next startup system software. To prevent configuration loss, use the eDesk tool to convert the configuration, and then specify the new configuration file for next startup
	

The device has WLAN configurations, which may be lost when the device is upgraded. You need to export the WLAN configurations, use a dedicated tool to convert the configurations, and then import them for use.

Copying file to other device or board failed
	

Copying file to other device or board failed
	

Failed to copy files to the standby or slave device. Check whether the file system function is normal and whether boards are installed or removed when files are being copied.

There is no enough space on other device or board
	

There is insufficient disk space on the standby or slave device when upgrade files are being copied to the standby or slave device. Ensure that the disk space is enough to store all the upgrade files.

The download file was deleted
	

The download file was deleted in client, please check the environment
	

The downloaded upgrade files are deleted. Check whether other users have logged in to the device and deleted the files.

Unknown error
	

Unknown error
	

An unknown error occurs in the system. Contact technical support personnel.

EasyOperation client operation failed
	

The file server is not configured. Configure a file server first. Check whether a file server has been configured correctly
	

Check whether a file server has been configured correctly.
display easy-operation group
Function

The display easy-operation group command displays group information on the Commander.
Format

display easy-operation group [ build-in [ device-type [ vendor vendorname ] ] | custom [ group-name ] ]
Parameters
Parameter 	Description 	Value

build-in
	

Displays built-in group information.

If the device type is not specified, information about all built-in groups is displayed.
	

-

device-type
	

Specifies a device type.
	

The value is an enumerated type and case-insensitive. The following device types are supported:

    S2730S-S
    S2750-EI
    S5700-10P-LI
    S5700-EI
    S5700-HI
    S5700-P-LI
    S5700-SI
    S5700-TP-LI
    S5700-X-LI
    S5700S-LI
    S5700S-P-LI
    S5700S-X-LI
    S5710-EI
    S5710-HI
    S5710-X-LI
    S5720-EI
    S5720-HI
    S5720-LI
    S5720-SI
    S5720S-LI
    S5730-HI
    S5730-SI
    S5730S-EI
    S5731-H
    S5731-S
    S5731S-H
    S5731S-S
    S5732-H
    S5735-L
    S5735-L1
    S5735-L-I
    S5735S-L1
    S5735-S
    S5735S-H
    S5736-S
    S6700-EI
    S6720-HI
    S6720-LI
    S6720-SI
    S6720S-S
    S6720S-LI
    S6720S-SI
    S6730-H
    S6730S-H
    S6730-S
    S6730S-S
    S6735-S
    S9700

vendor vendorname
	

Displays the name of the group created based on the device type of the specified vendor.

If no group name is specified, all vendor groups of the corresponding device types are displayed.
	

The value is a string of case-sensitive characters. It cannot contain spaces.

custom
	

Displays customized group information.

If the group name is not specified, information about all customized groups is displayed.
	

-

group-name
	

Specifies the name of a customized group.
	

The value is a string of 1 to 31 case-sensitive characters without spaces. The character string must start with a letter.
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

This command displays information about groups on the Commander.

If the build-in or custom parameter is not specified, brief information about all groups on the Commander is displayed.
Example

# Display brief information about all groups on the Commander.

<HUAWEI> display easy-operation group
The total number of group configured is : 6                                    
The number of build-in group is         : 2                                     
The number of custom group is           : 4                                    

-------------------------------------------------------                         
 Groupname                       Type     MatchType                             
-------------------------------------------------------                         
 AAA                             custom   ip-address                            
 F1                              custom   ip-address                            
S5720-HI                        build-in device-type
 test                            custom   mac-address                           
 test1                           custom   ip-address                            
-------------------------------------------------------                         

# Display information about built-in groups.

<HUAWEI> display easy-operation group build-in
---------------------------------------------------------------------------     
 Group name                : S5720-HI
 Configuration file        : vrpcfg.zip                                       
 System-software file      : S5720-HI.cc 
 Patch file                : -                                                  
 WEB file                  : -                                                  
 License file              : -                                                  
 Customs file 1            : -                                                  
 Customs file 2            : -                                                  
 Customs file 3            : -                                                  
 Activating file time      : Immediately                                        
 Activating file method    : Default                                            
---------------------------------------------------------------------------     

# Display information about the customized group AAA.

<HUAWEI> display easy-operation group custom AAA
---------------------------------------------------------------------------     
 Group name                : AAA                                                
 Configuration file        : -                                                  
 System-software file      : -                                                  
 Patch file                : -                                                  
 WEB file                  : -                                                  
 License file              : -                                                  
 Customs file 1            : header.txt                                          
 Customs file 2            : -                                                  
 Customs file 3            : -                                                  
 Activating file time      : Immediately                                        
 Activating file method    : Default                                            
 Ip-address list           :                                                    
  Ip-address        Ip-mask                                                     
  192.168.150.110   255.255.255.0                                             
  192.168.150.111   255.255.255.0                                             
  192.168.150.112   255.255.255.0                                             
  192.168.150.113   255.255.255.0                                             
  192.168.150.114   255.255.255.0                                             
  192.168.150.115   255.255.255.0                                             
---------------------------------------------------------------------------     

Table 2-10 Description of the display easy-operation group command output

Item
	

Description

Groupname
	

Group name.

Type
	

Group type: build-in or custom.

MatchType
	

Match type of the group.

The match type of a built-in group is configured using the group build-in command.

The match type of a customized group is configured using the group custom command.

Configuration file
	

System software to be downloaded by the clients matching the group. If no system software is specified, this field displays a hyphen (-).

It can be configured using the configuration-file command.

System-software file
	

Configuration file to be downloaded by the clients matching the group. If no configuration file is specified, this field displays a hyphen (-).

It can be configured using the system-software command.

Patch file
	

Patch file to be downloaded by the clients matching the group. If no patch file is specified, this field displays a hyphen (-).

It can be configured using the patch command.

WEB file
	

Web page file to be downloaded by the clients matching the group. If no system software is specified, this field displays a hyphen (-).

It can be configured using the web-file command.

License file
	

License file to be downloaded by the clients matching the group. If no license file is specified, this field displays a hyphen (-).

It can be configured using the license command.

Customs file 1
	

First user-defined file to be downloaded by the clients matching the group. If no system software is specified, this field displays a hyphen (-).

It can be configured using the custom-file command.

Customs file 2
	

Second user-defined file to be downloaded by the clients matching the group. If no system software is specified, this field displays a hyphen (-).

It can be configured using the custom-file command.

Customs file 3
	

Third user-defined file to be downloaded by the clients matching the group. If no third user-defined file is specified, this field displays a hyphen (-).

It can be configured using the custom-file command.

Activating file time
	

File activation time used by the clients matching the group. If default file activation time is used, this field displays Immediately.

It can be configured using the activate-file command.

Activating file method
	

File activation mode used by the clients matching the group. If default mode is used, this field displays Default.

It can be configured using the activate-file command.

Ip-address list
	

Clients match the group based on IP addresses, and all matching IP addresses are displayed.

    If clients match the group based on ESNs, ESN list is displayed.

    If clients match the group based on MAC addresses, Match mac-address list is displayed.

    If clients match the group based on models, Product model is displayed.

    If clients match the group based on types, Device type is displayed.

The matching rule can be configured using the match command.
display easy-operation power
Function

The display easy-operation power command displays power consumption information of the Commander and clients.
Format

display easy-operation power [ client client-id | commander ]
Parameters
Parameter 	Description 	Value

client client-id
	

Indicates power consumption information of a specified client.
	

The value is an integer. It depends on the maximum number of clients supported by the Commander.

For details, see Maximum Number of Managed Clients on the Commander.

commander
	

Indicates power consumption information of the Commander.
	

-
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

The command used to check power consumption information differs on the Commander and clients.

    On the Commander
        If no parameter is specified, you can check power consumption information about the Commander and all the clients in initial, upgrade, and normal operating states.
        If only client client-id is specified, you can check power consumption information about the specified client.
        If only commander is specified, you can check power consumption information about the Commander.

    On the client

    The parameters client client-id and commander are not supported. You can check power consumption information only about the current client.

Example

# Display power consumption information of the Commander and clients.

<HUAWEI> display easy-operation power
------------------------------------------------------------------------------  
Role       HostName                    Interface     Usage(W)  Gauge  Mode      
------------------------------------------------------------------------------  
Commander  HUAWEI                                    995.0     actual standard  
Client1    HUAWEI                                    511.3     rated  standard  
                                       GE0/0/1       0.7       actual           
Client3    HUAWEI                                    93.0      rated  standard  
Client4    HUAWEI                                    100.0     rated  standard  
------------------------------------------------------------------------------

Table 2-11 Description of the display easy-operation power command output

Item
	

Description

Role
	

Device role in the EasyDeploy service, which can be Commander or client.

HostName
	

Device name.

Interface
	

Interface name:

    If this parameter is left blank, power consumption of the entire device is displayed.
    If an interface name is specified, power consumption of a power device connected to the corresponding interface is displayed.

Usage(W)
	

Power consumption, in Watts.

Gauge
	

Power consumption type:

    actual: indicates real-time power consumption.
    rated: indicates rated power consumption.

Mode
	
Energy saving mode:

    standard
    basic
    deep

display easy-operation topology
Function

The display easy-operation topology command displays network topology information collected by the Commander.
Format

display easy-operation topology
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

You can run this command to view network topology information collected by the Commander. Based on the collected information, zero touch device deployment and automatic faulty device replacement can be implemented.
Example

# Display network topology information collected by the Commander.

<HUAWEI> display easy-operation topology
<-->:normal device         <??>:lost device
Total topology node number: 3
------------------------------------------------------------------------------
[HUAWEI: xxxx-xxxx-xxxx](Commander)
|-(GE0/0/8)<-->(GE0/0/38)[HUAWEI: xxxx-xxxx-xxxx](Client 1)
| |-(GE0/0/16)<-->(GE0/0/16)[HUAWEI: xxxx-xxxx-xxxx] (Client 2)

Table 2-12 Description of the display easy-operation topology command output

Item
	

Description

<-->
	

Clients that are running properly.

<??>
	

Properly operating clients change to the lost state.

Total topology node number
	

Number of nodes (including the Commander) in the network topology.
display ndp
Function

The display ndp command displays the global NDP information or the NDP information on a specified interface.
Format

display ndp [ interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10> ]
Parameters
Parameter 	Description 	Value

interface { interface-type interface-number1 [ to interface-type interface-number2 ] }
	

Displays the NDP information on a specified interface.

    interface-type interface-number1 indicates the type and number of the first interface.
    interface-type interface-number2 indicates the type and number of the last interface.

If no interface is specified when you run the display ndp command, NDP information about all interfaces is displayed.
	

-
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

When you check the NDP information:

    If NDP is not globally enabled, only the current NDP status of a switch is displayed.
    If NDP is globally enabled, the global NDP information and status and the NDP information and status of interfaces on a switch are displayed.

Example

# Display the global NDP information and NDP information about all the interfaces.

<HUAWEI> display ndp

 Neighbor discovery protocol is enabled.
 Neighbor Discovery Protocol Ver: 1, Hello Timer: 60(s), Aging Timer: 180(s)
 Interface: GigabitEthernet0/0/1
    Status: Enabled, Packets Sent: 114, Packets Received: 108, Packets Error: 0
    Neighbor 1:  Aging Time: 174(s)
       MAC Address : xxxx-xxxx-xxxx
       Port Name   : GigabitEthernet0/0/1
       Software Version: Version 5.130 V200R024C00
       Device Name : S5720 
       Port Duplex : FULL                                                       
       Product Ver : S5720 V200R024C00 
---- More ----   

Table 2-13 Description of the display ndp command output

Item
	

Description

Neighbor discovery protocol is status
	
The global NDP function is in status state. status includes:

    disabled: NDP is disabled globally.

    enabled: NDP is enabled globally.

To set this value, run the ndp enable (system view) command.

Neighbor Discovery Protocol Ver
	

Currently supported NDP versions. Version 1 is currently supported by all devices.

Hello Timer
	

Interval for sending NDP packets, in seconds. To set this value, run the ndp timer hello command.

Aging Timer
	

Aging time of NDP information, in seconds. To set this value, run the ndp timer aging command.

Interface
	

Interface number of a switch.

Status
	
NDP status of an interface:

    Disabled: NDP is disabled on the interface.

    Enabled: NDP is enabled on the interface.

To set this value, run the ndp enable (system view) or ndp enable (interface view) command.

Packets Sent
	

Number of NDP packets sent from the interface.

Packets Received
	

Number of NDP packets received by the interface.

Packets Error
	

Number of incorrect NDP packets received by the interface.

Neighbor 1
	

Neighboring node 1.

Aging Time
	

Aging time of NDP information about a neighboring node connected to the interface.

MAC Address
	

MAC address of the neighboring node.

Port Name
	

Name of the interface on the neighboring node connected to the interface.

Software Version
	

Version of the system software on the neighboring node.

Device Name
	

Host name of the neighboring node.

Port Duplex
	
Duplex mode of the interface on the neighboring node connected to the local interface.

    FULL: full-duplex.

    Half: half-duplex.

Product Ver
	

Type and software version number of the neighboring node.

# Display the NDP information of the switch on which NDP is not globally enabled.

<HUAWEI> display ndp

 Neighbor discovery protocol is disabled.
 Neighbor Discovery Protocol Ver: 1, Hello Timer: 60(s), Aging Timer: 180(s)

display ntdp
Function

The display ntdp command displays NTDP configuration.
Format

display ntdp
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

You can run the display ntdp command to check the NTDP configuration of a switch without considering whether NTDP is enabled globally or on interfaces on the switch.
Example

# Display the NTDP configuration of a switch.

<HUAWEI> display ntdp

Network topology discovery protocol is enabled
Hops      : 8                                                                  
Timer     : 0 min                                                               
Hop Delay : 200 ms                                                              
Port Delay: 20 ms                                                               
Total time for last collection: 330 ms  

Table 2-14 Description of the display ntdp command output

Item
	

Description

Network topology discovery protocol is status
	
The global NTDP function is in status state. status includes the following types of status:

    disabled: NTDP is disabled globally.

    enabled: NTDP is enabled globally.

To set this value, run the ntdp enable (system view) command.

Hops
	

Topology collection range (the number of hops). To set this value, run the ntdp hop command.

Timer
	

Interval for collecting topology information. To set this value, run the ntdp timer command.

Hop Delay
	

Delay for the first interface to forward NTDP topology request packets. To set this value, run the ntdp timer hop-delay command.

Port Delay
	

Delay for other interfaces to forward NTDP topology request packets. To set this value, run the ntdp timer port-delay command.

Total time for last collection
	

Duration for collecting topology information last time.
display ntdp device-list
Function

The display ntdp device-list command displays the topology information collected using NTDP.
Format

display ntdp device-list [ verbose ]
Parameters
Parameter 	Description 	Value

verbose
	

Displays detailed device information.

If you run the display ntdp device-list command without setting optional parameters, brief information about the device is displayed.
	

-
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

Usage Scenario

To check the topology information collected using NTDP, run the display ntdp device-list command. The topology information can be displayed only after ntdp explore command is run in the user view to enable the switch to periodically collect the topology information.

When NTDP is not enabled on interfaces of the switch, only information about the switch itself is collected using NTDP.

Prerequisites

NTDP has been globally enabled on the switch.
Example

# Display brief switch information collected using NTDP.

<HUAWEI> display ntdp device-list
The device-list of NTDP:
------------------------------------------------------------------------------
 MAC             HOP  IP                  PLATFORM
------------------------------------------------------------------------------
 xxxx-xxxx-xxxx  0                        S5700                                 
 xxxx-xxxx-xxxx  1    10.1.1.2/24         S5700                                 
 xxxx-xxxx-xxxx  1    10.1.1.3/24         S5700 

Table 2-15 Description of the display ntdp device-list command output

Item
	

Description

MAC
	

MAC address of the device.

HOP
	

Number of hops from the device to the topology collecting device.

IP
	

IP address of the device.

PLATFORM
	

Type of the device.

# Display detailed device information collected using NTDP.

<HUAWEI> display ntdp device-list verbose
 Hostname  : HUAWEI
 MAC       : xxxx-xxxx-xxxx
 Hop       : 0
 Platform  : S5700
 IP        : 
 Version   : Version 5.150 V200R024C00
 Cluster   : Administrator switch of cluster
 Peer MAC        Native Port ID Peer Port ID   N-Index    P-Index    Speed Dup
 xxxx-xxxx-xxxx  GE0/0/4        GE0/0/4        9          9          1000  FULL 
 xxxx-xxxx-xxxx  GE0/0/1        GE0/0/1        6          6          1000  FULL

-----------------------------------------------------------------------------
                                                                               
 Hostname  : HUAWEI                                             
 MAC       : xxxx-xxxx-xxxx                                                     
 Hop       : 1                                                                  
 Platform  : S5700                                                              
 IP        : 10.1.1.2/24                                                        
 Version   : Version 5.150 V200R024C00                                   
 Cluster   : Candidate switch 
                                                                                
 Peer MAC        Native Port ID Peer Port ID   N-Index    P-Index    Speed Dup  
 xxxx-xxxx-xxxx  GE0/0/4        GE0/0/4        9          9          1000   FULL        
                                            
-----------------------------------------------------------------------------   
                                                                                
 Hostname  : HUAWEI                                              
 MAC       : xxxx-xxxx-xxxx                                                     
 Hop       : 1                                                                  
 Platform  : S5700                                                              
 IP        : 10.1.1.3/24                                                        
 Version   : Version 5.150 V200R024C00                                   
 Cluster   : Candidate switch 
                                                                                
 Peer MAC        Native Port ID Peer Port ID   N-Index    P-Index    Speed Dup  
 xxxx-xxxx-xxxx  GE0/0/1        GE0/0/1        6          6          1000   FULL    

Table 2-16 Description of the display ntdp device-list verbose command output

Item
	

Description

Hostname
	

Host name of the device.

MAC
	

MAC address of the device.

Hop
	

Number of hops from the device to the topology collecting device.

Platform
	

Model of the device.

IP
	

Private IP address of the device.

Version
	

Version of the system software running on the device.

Cluster
	

Role of the device in the cluster.

Peer MAC
	

MAC address of the neighboring node.

Native Port ID
	

Interface of the device connecting to the neighboring node.

Peer Port ID
	

Interface of the neighboring node connecting to the local device.

N-Index
	

Index of the local interface.

P-Index
	

Index of the peer interface.

Speed
	

Rate of the interface when the neighboring node is connected to the device.

Dup
	

Duplex mode of the interface when the neighboring node is connected to the local device.
display cluster-topology-info
Function

The display cluster-topology-info command displays the topology information about the cluster.
Format

display cluster-topology-info
Parameters

None
Views

All views
Default Level

1: Monitoring level
Usage Guidelines

You can run the display cluster-topology-info command on the Commander switch only.

If two devices are connected through multiple interfaces, this command displays information only about the link established between a pair of interfaces.
Example

# Display the topology information about the cluster.

<HUAWEI> display cluster-topology-info

The topology information about the cluster:
<-->:normal device         <++>:candidate device         <??>:lost device
-------------------------------------------------------------------------
Total topology node number is 5.
[HUAWEI_0.Administrator: Root-00e0-ad14-c600]
|-(GigabitEthernet0/0/2)<-->(GigabitEthernet0/0/1)[HUAWEI_3.Member-3: xxxx-xxxx-xxxx]
| |-(GigabitEthernet0/0/3)<-->(GigabitEthernet0/0/1)[HUAWEI_2.Member-2: xxxx-xxxx-xxxx]
| | |-(GigabitEthernet0/0/1)<-->(GigabitEthernet0/0/1)[HUAWEI_1.Member-1: xxxx-xxxx-xxxx]
|-(GigabitEthernet0/0/1)<-->(GigabitEthernet0/0/2)[HUAWEI_4.Member-4: xxxx-xxxx-xxxx]

Table 2-17 shows the description of the display cluster-topology-info command output.
Table 2-17 Description of the display cluster-topology-info command output

Item
	

Description

<-->
	

Normal link.

<++>
	

Candidate link.

<??>
	

Faulty link.

Total topology node number is
	

Specifies the number of nodes in the topology of the cluster.

[HUAWEI_0.Administrator: Root-xxxx-xxxx-xxxx]
	

Specifies the MAC address and host name of the switch. It varies with the name and MAC address of the device.

|-
	

Indicates the level-1 device that is connected to the root node.

| |-
	

Indicates the level-2 device which is connected to the level-1 device.

| | |-
	

Indicates the level-3 device which is connected to the level-2 device.

(GigabitEthernet0/0/1)<-->(GigabitEthernet0/0/2)
	

Specifies the names of the interfaces connecting the two devices. It varies with the interfaces of the devices. The left brackets contain information about the upper-level device. The right brackets contain information about the lower-level device.

[HUAWEI_3.Member-3: xxxx-xxxx-xxxx]
	

Specifies the MAC address of the member device. It varies with the name and MAC address of the device.
easy-operation
Function

The easy-operation command displays the Easy-Operation view.
Format

easy-operation
Parameters

None
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

To specify the file server, information about files to be downloaded, and file activation mode, or configure other EasyDeploy-related functions, first run the easy-operation command to enter the Easy-Operation view.

Prerequisites

You can enter the Easy-Operation view only on the device functions as a Commander.

After choosing a device as the Commander, run the easy-operation commander ip-address command on the device to configure the Commander IP address, and then run the easy-operation commander enable command to enable the Commander function.
Example

# Enter the Easy-Operation view.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] 

easy-operation client ftp-server
Function

The easy-operation client ftp-server command specifies IP addresses, user names, and passwords for FTP servers on a pre-delivery device.

The undo easy-operation client ftp-server command deletes the specified IP addresses, user names, and passwords of FTP servers on a pre-delivery device.

By default, IP addresses, user names, and passwords of FTP servers are not specified on pre-delivery devices.
Format

easy-operation client ftp-server ip-address ipaddress &<1-4> [ username username [ password password ] ]

undo easy-operation client ftp-server ip-address [ ipaddress ] [ username username ] [ password ]
Parameters
Parameter 	Description 	Value

ip-address ipaddress
	

Specifies the IP address of an FTP server.
	

The value is in dotted decimal notation.

username username
	

Specifies a user name for FTP server access.
	

The value is a string of 1 to 64 characters.

password password
	

Specifies a password for FTP server access.
	

The value is a string of 1 to 16 characters in plaintext or 48 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client ftp-server command to specify IP addresses, user names, and passwords for the servers.

Precautions

    The easy-operation client ftp-server command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.
    If you do not want to use the pre-configured device deployment function, run the undo easy-operation client ftp-server command in the system view to delete the specified IP addresses, user names, and passwords of FTP servers.
    If a user name and a password have been set on a file server, the device must have the same user name and password configured.
    FTP has security risks. Using an SFTP file server is recommended.
    A maximum of four FTP file servers' IP addresses, user names, and passwords can be specified. A device searches for and obtains the desired files from the servers in the sequence in which file servers are configured.
    Ensure that the files to be downloaded have been uploaded to the specified file servers.

Example

# Delete the IP address, user name, and password of an FTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client ftp-server ip-address 10.1.1.1 username huawei password

easy-operation client ftp-server-url
Function

The easy-operation client ftp-server-url command specifies URLs, user names, and passwords for FTP servers on a pre-delivery device.

The undo easy-operation client ftp-server-url command deletes the specified URLs, user names, and passwords of FTP servers on a pre-delivery device.

By default, URLs, user names, and passwords of FTP servers are not specified on pre-delivery devices.
Format

easy-operation client ftp-server-url url-address [ username username [ password password ] ]

undo easy-operation client ftp-server-url [ url-address ] [ username username ] [ password ]
Parameters
Parameter 	Description 	Value

url-address
	

Specifies the URL of an FTP server.
	

The value is a string of 1 to 64 characters.

username username
	

Specifies a user name for FTP server access.
	

The value is a string of 1 to 64 characters.

password password
	

Specifies a password for FTP server access.
	

The value is a string of 1 to 16 characters in plaintext or 48 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client ftp-server-url command to specify URLs, user names, and passwords for the servers.

Precautions

The easy-operation client ftp-server-url command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not want to use the pre-configured device deployment function, run the undo easy-operation client ftp-server-url command in the system view to delete the specified URLs, user names, and passwords of FTP servers.

You can specify an FTP server using either an IP address or URL.
Example

# Delete the URL, user name, and password of an FTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client ftp-server-url www.1234.com username huawei password

easy-operation client netfile
Function

The easy-operation client netfile command specifies a name for an intermediate file for pre-configured device deployment.

The undo easy-operation client netfile command deletes the name of an intermediate file for pre-configured device deployment.

By default, devices use the intermediate file lswnet.cfg for pre-configured device deployment.
Format

easy-operation client netfile filename

undo easy-operation client netfile [ filename ]
Parameters
Parameter 	Description 	Value

filename
	

Specifies the name (*.cfg) of an intermediate file.
	

The value is a string of 5 to 48 characters.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

A pre-configured device obtains version file information from an intermediate file placed on a file server. This information includes an SNMP host's IP address, device's MAC address, ESN or model, and names of files to be downloaded.

If you do not specify an intermediate file, the device uses the lswnet.cfg file by default. If you want to use another intermediate file, run the easy-operation client netfile command.

Precautions

The easy-operation client netfile command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not want to use pre-configured device deployment, run the undo easy-operation client netfile command in the system view to delete the intermediate file.

The configuration file specified in an intermediate file cannot contain any pre-configured commands.
Example

# Delete the intermediate file specified for pre-configured device deployment.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client netfile huawei.cfg

easy-operation client sftp-server
Function

The easy-operation client sftp-server command specifies IP addresses, user names, and passwords for SFTP servers on a pre-delivery device.

The undo easy-operation client sftp-server command deletes the specified IP addresses, user names, and passwords of SFTP servers on a pre-delivery device.

By default, IP addresses, user names, and passwords of SFTP servers are not specified on pre-delivery devices.
Format

easy-operation client sftp-server ip-address ipaddress &<1-4> [ username username [ password password ] ]

undo easy-operation client sftp-server ip-address [ ipaddress ] [ username username ] [ password ]
Parameters
Parameter 	Description 	Value

ip-address ipaddress
	

Specifies the IP address of an SFTP server.
	

The value is in dotted decimal notation.

username username
	

Specifies a user name for SFTP server access.
	

The value is a string of 1 to 64 characters.

password password
	

Specifies a password for SFTP server access.
	

The value is a string of 1 to 16 characters in plaintext or 48 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client sftp-server command to specify IP addresses, user names, and passwords for the servers.

Precautions

    The easy-operation client sftp-server command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.
    If you do not want to use the pre-configured device deployment function, run the undo easy-operation client sftp-server command in the system view to delete the specified IP addresses, user names, and passwords of SFTP servers.
    If a user name and a password have been set on a file server, the device must have the same user name and password configured.
    A maximum of four SFTP file servers' IP addresses, user names, and passwords can be specified. A device searches for and obtains the desired files from the servers in the sequence in which file servers are configured.
    Ensure that the files to be downloaded have been uploaded to the specified file servers.

Example

# Delete the IP address, user name, and password of an SFTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client sftp-server ip-address 10.1.1.1 username huawei password

easy-operation client sftp-server-url
Function

The easy-operation client sftp-server-url command specifies URLs, user names, and passwords for SFTP servers on a pre-delivery device.

The undo easy-operation client sftp-server-url command deletes the specified URLs, user names, and passwords of SFTP servers on a pre-delivery device.

By default, URLs, user names, and passwords of SFTP servers are not specified on pre-delivery devices.
Format

easy-operation client sftp-server-url url-address [ username username [ password password ] ]

undo easy-operation client sftp-server-url [ url-address ] [ username username ] [ password ]
Parameters
Parameter 	Description 	Value

url-address
	

Specifies the URL of an SFTP server.
	

The value is a string of 1 to 64 characters.

username username
	

Specifies a user name for SFTP server access.
	

The value is a string of 1 to 64 characters.

password password
	

Specifies a password for SFTP server access.
	

The value is a string of 1 to 16 characters in plaintext or 48 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client sftp-server-url command to specify URLs, user names, and passwords for the SFTP servers on the device.

Precautions

    The easy-operation client sftp-server-url command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

    If you do not want to use the pre-configured device deployment function, run the undo easy-operation client sftp-server-url command in the system view to delete the specified URLs, user names, and passwords of SFTP servers.
    You can specify an SFTP server using either an IP address or URL.
    If a user name and a password have been set on a file server, the device must have the same user name and password configured.
    Ensure that the files to be downloaded have been uploaded to the specified file servers.

Example

# Delete the URL, user name, and password of an SFTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client sftp-server-url www.1234.com username huawei password

easy-operation client snmp securityname
Function

The easy-operation client snmp securityname command configures a shared key between a pre-delivery device and an SNMP host.

The undo easy-operation client snmp securityname command deletes a shared key between a pre-delivery device and an SNMP host.

By default, no shared key is configured between pre-delivery devices and SNMP hosts.
Format

easy-operation client snmp securityname cipher password

undo easy-operation client snmp securityname
Parameters
Parameter 	Description 	Value
cipher password 	Specifies a shared key. 	The value is a string of 1 to 32 characters in plaintext, or 48 or 68 characters in ciphertext.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

In pre-configured device deployment, a pre-delivery device sends alarms to an NMS over an SNMP module for deployment monitoring. To configure a shared key between the device and the SNMP host, run the easy-operation client snmp securityname command.

Precautions

The easy-operation client snmp securityname command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not want to use the pre-configured device deployment function, run the undo easy-operation client snmp securityname command in the system view to delete the shared key.
Example

# Delete the shared key between a pre-delivery device and an SNMP host.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client snmp securityname

easy-operation client tftp-server
Function

The easy-operation client tftp-server command specifies IP addresses for TFTP servers on a pre-delivery device.

The undo easy-operation client tftp-server command deletes the specified IP addresses of TFTP servers on a pre-delivery device.

By default, IP addresses of TFTP servers are not specified on pre-delivery devices.
Format

easy-operation client tftp-server ip-address ipaddress &<1-4>

undo easy-operation client tftp-server ip-address [ ipaddress ]
Parameters
Parameter 	Description 	Value
ip-address ipaddress 	Specifies the IP address of a TFTP server. 	The value is in dotted decimal notation.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client ftp-server command to specify IP addresses for the servers.

Precautions

    The easy-operation client tftp-server command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.
    If you do not want to use the pre-configured device deployment function, run the undo easy-operation client tftp-server command in the system view to delete the specified IP addresses of TFTP servers.
    TFTP has security risks. Using an SFTP file server is recommended.
    A maximum of four TFTP file servers' IP addresses can be specified. A device searches for and obtains the desired files from the servers in the sequence in which file servers are configured.
    Ensure that the files to be downloaded have been uploaded to the specified file servers.

Example

# Delete the IP address of a TFTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client tftp-server ip-address 10.1.1.1

easy-operation client tftp-server-url
Function

The easy-operation client tftp-server-url command specifies URLs for TFTP servers on a pre-delivery device.

The undo easy-operation client tftp-server-url command deletes the specified URLs of TFTP servers on a pre-delivery device.

By default, URLs of TFTP servers are not specified on pre-delivery devices.
Format

easy-operation client tftp-server-url url-address

undo easy-operation client tftp-server-url [ url-address ]
Parameters
Parameter 	Description 	Value
url-address 	Specifies the URL of a TFTP server. 	The value is a string of 1 to 64 characters.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After a device obtains file information to be downloaded from an intermediate file, it must download the specified files from file servers. To allow the device to visit the servers, run the easy-operation client tftp-server-url command to specify URLs for the servers.

Precautions

The easy-operation client tftp-server-url command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not want to use the pre-configured device deployment function, run the undo easy-operation client tftp-server-url command in the system view to delete the specified URLs of TFTP servers.

You can specify either an IP address or URL for a TFTP server.
Example

# Delete the URL of a TFTP server.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client tftp-server-url www.1234.com

easy-operation client vlan
Function

The easy-operation client vlan command specifies the VLAN used in the configured device deployment procedure before device delivery.

The undo easy-operation client vlan command deletes the VLAN used in the configured device deployment procedure.

By default, the VLAN used in the configured device deployment procedure is VLAN 1.
Format

easy-operation client vlan vlanid

undo easy-operation client vlan
Parameters
Parameter 	Description 	Value
vlanid 	Specifies the VLAN used in the configured device deployment procedure. 	The value is an integer that ranges from 1 to 4094.
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Application Scenario

You can use the default VLAN 1 or run this command to specify the VLAN used in the configured device deployment procedure to implement configured device deployment.

Precautions

    This command is an overwritten command.
    The easy-operation client vlan command is contained only in a device's pre-delivery configuration file. Users cannot manually run this command. The undo easy-operation client vlan command can be manually run.

Example

# Delete the VLAN used in the configured device deployment procedure.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client vlan

easy-operation client ztp-with-cfg enable
Function

The easy-operation client ztp-with-cfg enable command enables pre-configured device deployment.

The undo easy-operation client ztp-with-cfg enable command disables pre-configured device deployment.

By default, pre-configured device deployment is disabled.
Format

easy-operation client ztp-with-cfg enable

undo easy-operation client ztp-with-cfg enable
Parameters

None
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

Before delivery, a device can load a configuration file that contains commands for specifying file server addresses, name of an intermediate file for site deployment, and a shared key between the device and an SNMP host. After simple login configuration, the device can then automatically obtain and load correct configurations, reducing the manual operation cost.

Precautions

The easy-operation client ztp-with-cfg enable command is contained only in a device's pre-delivery configuration file. It is not allowed to run this command after device delivery.

If you do not need the pre-configured device deployment function, run the undo easy-operation client ztp-with-cfg enable command in the system view to disable this function.
Example

# Disable the pre-configured device deployment function on a device.

<HUAWEI> system-view
[HUAWEI] undo easy-operation client ztp-with-cfg enable

easy-operation commander enable
Function

The easy-operation commander enable command enables the Commander function on a device.

The undo easy-operation commander enable command disables the Commander function on a device.

By default, the Commander function is disabled on a device.
Format

easy-operation commander enable

undo easy-operation commander enable
Parameters

None
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

To specify a device as the Commander, enable the Commander function on the device. The Commander can enable devices to automatically download files in zero touch device deployment, fault device replacement, and batch upgrade scenarios. On an EasyDeploy network, the Commander manages clients and delivers required information, including file server information, system software name, and configuration file name, to clients. Clients automatically download required files according to information obtained from the Commander.

Prerequisites

The Commander IP address has been configured on the device using the easy-operation commander ip-address command.

Precautions

    An EasyDeploy network has only one Commander.
    This command can be used only on the device that functions as the Commander.
    After you run the undo easy-operation commander enable command to disable the Commander function, dynamic information in the client database is deleted, and the configuration information is saved in the memory of the device. If the Commander does not restart after the Commander function is disabled, the configuration will be recovered after the Commander function is enabled again.

Example

# Enable the Commander function on a device.

<HUAWEI> system-view
[HUAWEI] easy-operation commander enable

easy-operation commander ip-address
Function

The easy-operation commander ip-address command configures the Commander IP address.

The undo easy-operation commander ip-address command deletes the Commander IP address.

By default, no Commander IP address is configured.
Format

easy-operation commander ip-address ip-address [ udp-port udp-port ]

undo easy-operation commander ip-address [ ip-address [ udp-port udp-port ] ]
Parameters
Parameter 	Description 	Value

ip-address
	

Specifies the Commander IP address.
	

The value is in dotted decimal notation.

udp-port udp-port
	

Specifies the UDP port number that the Commander uses to communicate with clients.
	

The value is an integer in the range from 1025 to 65535. The default value is 60000.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After an IP address is configured for the Commander, clients can communicate with the Commander through this IP address. To implement a batch upgrade, you need to specify the Commander IP address on clients. In zero touch provisioning (ZTP) and faulty device replacement scenarios, clients obtain the Commander IP address from the DHCP server.

Precautions

The configured Commander IP address must exist on the device that functions as the Commander.

The Commander IP address cannot be the IP address of the VLANIF interface bound to a VPN.

After the Commander function is enabled on the switch, changing the Commander IP address is not allowed on the switch. Otherwise, the Commander cannot detect and manage clients.

In batch upgrade scenarios, the Commander and clients must be configured with the same Commander IP address and UDP port number. Otherwise, clients cannot communicate with the Commander.
Example

# Configure the Commander IP address.

<HUAWEI> system-view
[HUAWEI] easy-operation commander ip-address 10.10.10.5
Warning: The pre-shared key can be modified to improve security. Continue? [Y/N]:y
Enter the pre-shared key:******
Confirm the pre-shared key:******

Table 2-18 Description of the easy-operation commander ip-address command output

Item
	

Description

Warning: The pre-shared key can be modified to improve security. Continue? [Y/N]
	

Whether to change a pre-shared key.

Regardless of whether the pre-shared key is changed, the easy-operation commander ip-address command can still be executed, and the Commander IP address can be changed successfully.

    y: The pre-shared key will be changed.
    n: The pre-shared key will not be changed.

Enter the pre-shared key
	

Enter the ciphertext of the pre-shared key.
NOTE:

    The same pre-shared key must be configured on the Commander and clients simultaneously.
    If the entered pre-shared key is invalid or the two pre-shared keys are different, the pre-shared key will not be changed. The failure to change the pre-shared key does not affect the execution of the easy-operation commander ip-address command. That is, the Commander IP address can still be changed successfully.

Confirm the pre-shared key
	

Confirm the ciphertext of the pre-shared key.
easy-operation dtls disable
Function

The easy-operation dtls disable command disables Datagram Transport Layer Security (DTLS) encryption.

The undo easy-operation dtls disable command enables DTLS encryption.

By default, DTLS encryption is enabled.
Format

easy-operation dtls disable

undo easy-operation dtls disable
Parameters

None
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

This command is mainly used in the capacity expansion scenario on a live network. If the system software of a client is V200R010C00 or a later version and that of the Commander is a version earlier than V200R010C00, you need to run the easy-operation dtls disable command on the client to disable DTLS encryption.

Precautions

    You must enable or disable DTLS encryption on the Commander and client at the same time.

    If the system software of a switch in a version earlier than V200R010C00 is upgraded to V200R010C00 or a later version, an easy-operation dtls disable configuration is automatically generated.

    If a client in V200R010C00 or a later version needs to be managed by the Commander in a version earlier than V200R010C00, you need to run the easy-operation dtls disable command on the client to disable DTLS encryption.

    If a client in a version earlier than V200R010C00 needs to be managed by the Commander in V200R010C00 or a later version and DTLS encryption is enabled on the Commander, you must upgrade the system software of the client to V200R010C00 or a later version. Otherwise, the client cannot join the existing network.

    After DTLS encryption is enabled, the shared key configured using the easy-operation shared-key command does not take effect.

    After DTLS encryption is enabled, you can run the easy-operation dtls psk command to configure the DTLS PSK.

Example

# Disable DTLS encryption.

<HUAWEI> system-view
[HUAWEI] easy-operation dtls disable

easy-operation dtls psk
Function

The easy-operation dtls psk command configures the DTLS pre-shared key (PSK).

The undo easy-operation dtls psk command restores the default DTLS PSK.

The default username and password are available in S Series Switches Default Usernames and Passwords (Enterprise Network or Carrier). If you have not obtained the access permission of the document, see Help on the website to find out how to obtain it.
Format

easy-operation dtls psk psk

undo easy-operation dtls psk
Parameters
Parameter 	Description 	Value

psk
	

Specifies the PSK.
	

The value is a string of 6 to 32 characters in plain text or a string of 48 or 68 characters in cipher text.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After DTLS encryption is enabled, you can run this command to change the DTLS PSK.

Precautions

The same PSK must be configured on the Commander and clients simultaneously.
Example

# Set the DTLS PSK to test12345.

<HUAWEI> system-view
[HUAWEI] easy-operation dtls psk test12345

easy-operation shared-key
Function

The easy-operation shared-key command configures a shared key for the Commander or a client.

The undo easy-operation shared-key command deletes the configured shared key of the Commander or client.

By default, no shared key is configured on a Commander or client.
Format

easy-operation shared-key cipher key-string

undo easy-operation shared-key
Parameters
Parameter 	Description 	Value

cipher
	

Configures a shared key in cipher text.
	

-

key-string
	

Specifies a shared key.
	

The value is a string of case-sensitive characters without spaces. A plain text key contains 1 to 64 characters, and a cipher text key contains 48 to 108 characters.
Views

System view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

In batch upgrade and configuration scenarios, to enhance security for communication between the Commander and clients and prevent a bogus Commander from controlling clients, run the easy-operation shared-key command to configure the same shared key for the Commander and clients.

Precautions

    The same shared key must be configured on the Commander and clients simultaneously.
    If a shared key has been configured on the Commander, the Commander cannot manage clients running versions earlier than V200R008C00 and clients that have no shared key configured.
    The shared key configuration does not affect zero touch device deployment.

    After DTLS encryption is enabled, the shared key configured using the easy-operation shared-key command does not take effect.

Example

# Configure a shared key on the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation shared-key cipher Easy@huawei

execute to
Function

The execute to command enables the Commander to deliver commands to clients or client groups.
Format

execute [ script-file ] to client { all | { client-id1 [ to client-id2 ] }&<1-10> }

execute [ script-file ] to group { all | { name group-name }&<1-10> }
Parameters
Parameter 	Description 	Value
script-file 	Indicates a script file name. If no script file name is specified, the script made online is delivered. 	The value is a string of 5 to 64 characters, depending on the actual situation.
client { client-id1 [ to client-id2 ] } 	Indicates that commands are delivered to a specified client. 	The value is an integer. It depends on the maximum number of clients supported by the Commander.

For details, see Maximum Number of Managed Clients on the Commander.
client all 	Indicates that commands are delivered to all clients. 	-
group name group-name 	Indicates that commands are delivered to a specified client group. 	The value is a string of 1 to 31 case-sensitive characters without spaces. The character string must start with a letter.
group all 	Indicates that commands are delivered to all client groups. 	-
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

To implement a batch configuration of clients on a network supporting EasyDeploy, edit commands to be run, save them as a script, and deliver the edited commands to clients through the Commander.
Example

# Enable the Commander to deliver commands to all clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] execute to client all
Warning: This operation will start the batch command executing process to the cl
ients. Continue?[Y/N]:y
Info: This operation will take some seconds, please wait..

group build-in
Function

The group build-in command configures a built-in group on the Commander and displays the Easy-Operation group view.

The undo group build-in command deletes a built-in group.

By default, no built-in group is configured.
Format

group build-in device-type [ vendor vendorname]

undo group build-in [ device-type [ vendor vendorname] ]

    If clients of the same type from different vendors exist on the network, you need to configure vendor vendorname to distinguish the clients.
    If vendor vendorname is specified in the group build in command, the device type view of the corresponding vendor is displayed.
    If vendor vendorname is not specified in the group build in command, the vendor type is not specified.

Parameters
Parameter 	Description 	Value

device-type
	

Specifies the device type in a group.
	

The value is an enumerated type and case-insensitive. The following device types are supported:

    S2730S-S
    S2750-EI
    S5700-10P-LI
    S5700-EI
    S5700-HI
    S5700-P-LI
    S5700-SI
    S5700-TP-LI
    S5700-X-LI
    S5700S-LI
    S5700S-P-LI
    S5700S-X-LI
    S5710-EI
    S5710-HI
    S5710-X-LI
    S5720-EI
    S5720-HI
    S5720-LI
    S5720-SI
    S5720S-LI
    S5730-HI
    S5730-SI
    S5730S-EI
    S5731-H
    S5731-S
    S5731S-H
    S5731S-S
    S5732-H
    S5735-L
    S5735-L1
    S5735-L-I
    S5735S-L1
    S5735-S
    S5735S-H
    S5736-S
    S6700-EI
    S6720-HI
    S6720-LI
    S6720-SI
    S6720S-S
    S6720S-LI
    S6720S-SI
    S6730-H
    S6730S-H
    S6730-S
    S6730S-S
    S6735-S
    S9700

vendor vendorname
	

Displays the group of the device type of the specified vendor.
	

The value is a character string.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

If clients on a network are devices of the same type, run the group build-in command to configure a built-in group based on the device type. This group enables these clients to download the same files, such as the system software package and patch file.

Precautions

    If a client matches both a customized group (configured using the group custom command) and a built-in group, it prefers the files specified in the customized group.

    A maximum of 256 groups (including both built-in groups and customized groups) can be configured on the Commander.

    If you run the undo group build-in command without specifying device-type, the command deletes all the built-in groups.

Example

# Configure a built-in group and specify the device type as S5732-H.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group build-in s5732-h
[HUAWEI-easyoperation-group-build-in-s5732-h]

group custom
Function

The group custom command configures a customized group and displays the Easy-Operation group view on the Commander.

The undo group custom command deletes a customized group.

By default, no customized group is configured.
Format

group custom { mac-address | esn | ip-address | model | device-type } group-name

undo group custom [ { mac-address | esn | ip-address | model | device-type } [ group-name ] ]
Parameters
Parameter 	Description 	Value
group-name 	Specifies the name of a customized group. 	The value is a string of 1 to 31 case-sensitive characters without spaces. The character string must start with a letter.
mac-address 	Configures a MAC address-based group. 	-
esn 	Configures an ESN-based group. 	-
ip-address 	Configures an IP address-based group. 	-
model 	Configures a device model-based group. 	-
device-type 	

Configures a device type-based group.

This parameter applies when a new device type is not defined for built-in groups on the Commander.
	-
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

If multiple devices on a network need to download the same file, you can configure a group for the devices on the Commander to simplify device configuration. You can configure various customized groups on the Commander according to the deployment on your network devices.

Precautions

    A maximum of 256 groups (including both built-in groups and customized groups) can be configured on the Commander.

    Customized groups can have matching rules based on MAC address, ESN, IP address, device model, and device type, listed in descending order of priority.

    Running the undo group custom command without any parameters will delete all the customized groups.

Example

# Configure a MAC address-based customized group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test]

license
Function

The license command specifies a license file to be downloaded to clients.

The undo license command deletes the configured license file information.
Format

license file-name

undo license [ file-name ]
Parameters
Parameter 	Description 	Value
file-name 	Specifies the name of a license file to be downloaded to clients. The file name has an extension .dat and may contain a file path. 	The value is a string of 5 to 64 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to load a license file, specify the license file on the Commander.

Precautions

You can load a license file only on modular switches. When a fixed switch serves as the client, the license file cannot be loaded even after you specify the license file information.
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

The names of the files to be downloaded cannot be the same as system license files. Otherwise, the upgrade fails.
Example

# Specify a default license file for clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] license easy/test.dat

# Specify a license file in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] license license.dat

match
Function

The match command configures a matching rule for a group on the Commander.

The undo match command deletes a matching rule for a group on the Commander.

By default, a group has no matching rule.
Format

match mac-address mac-address [ mac-mask | mac-mask-length ]

match esn esn

match ip-address ip-address [ ip-mask | ip-mask-length ]

match model model

match device-type device-type

undo match mac-address [ mac-address [ mac-mask | mac-mask-length ] ]

undo match esn [ esn ]

undo match ip-address [ ip-address [ ip-mask | ip-mask-length ] ]

undo match model [ model ]

undo match device-type [ device-type ]
Parameters
Parameter 	Description 	Value

mac-address mac-address
	

Configures a MAC address-based matching rule.

A group can have multiple MAC addresses or MAC address ranges specified. A client matches the group as long as it matches one of MAC addresses.
	

The value is in the H-H-H format, where each H contains four hexadecimal digits.

mac-mask
	

Specifies the mask of a MAC address.
	

The value is in the H-H-H format, where each H contains four hexadecimal digits. By default, the mask is ffff-ffff-ffff.

mac-mask-length
	

Specifies the mask length of a MAC address.
	

The value is an integer that ranges from 0 to 48. By default, the mask length is 48.

esn esn
	

Configures an ESN-based matching rule.

A group can have multiple ESNs specified. A client matches the group as long as it matches one of ESNs.
	

The value is a string of 10 to 32 case-insensitive characters without spaces.

ip-address ip-address
	

Configures an IP address-based matching rule.

A group can have multiple IP addresses or IP address ranges (for example 192.168.110.0) specified. A client matches the group as long as it matches one of IP addresses.
	

The value is in dotted decimal notation.

ip-mask
	

Specifies the mask of an IP address.
	

The value is in dotted decimal notation. By default, the mask is 255.255.255.255.

ip-mask-length
	

Specifies the mask length of an IP address.
	

The value is an integer that ranges from 0 to 32. By default, the mask length is 32.

model model
	

Configures a device model-based matching rule.
	

The value is a string of 1 to 32 case-insensitive characters without spaces.

device-type device-type
	

Configures a device type-based matching rule.
	

The value is a string of 1 to 32 case-insensitive characters without spaces.
Views

Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After configuring a customized group on the Commander, configure matching rules for the group. A client can obtain the files specified in a group only when it matches a rule in the group.

Precautions

    A matching rule can be configured only in a customized group of the corresponding type. For example, the match mac-address mac-address command can only be used in a MAC address-based customized group.
    A MAC address-based, ESN-based, or IP address-based group each supports a maximum of 256 matching rules. The total number of group rules on the device cannot exceed 256.
    For groups created based on device models, only one matching rule can be defined for each group. The device model specified in a device model-based group must be the same as the actual device model. Otherwise, clients cannot match the group.
    For groups created based on device types, only one matching rule can be defined for each group. The device type specified in a device type-based group must be the same as the actual device type. Otherwise, clients cannot match the group.

Example

# Configure two MAC address-based matching rules in a customized group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] match mac-address 00e0-fc12-3456
[HUAWEI-easyoperation-group-custom-test] match mac-address 00e0-fc12-3478

mngvlanid
Function

The mngvlanid command sets a management VLAN for a cluster.

The undo mngvlanid command restores the default management VLAN of a cluster.

By default, the management VLAN is VLAN 1.
Format

mngvlanid vlan-id

undo mngvlanid
Parameters
Parameter 	Description 	Value
vlan-id 	Specifies a VLAN ID. 	The value is an integer ranging from 1 to 4094.
Views

Cluster view
Default Level

2: Configuration level
Usage Guidelines

On a Commander switch, if a management VLAN is changed or the management VLAN and its corresponding VLANIF interface are deleted, the cluster is automatically deleted.

If you change the ID of the management VLAN on a client switch, the client switch automatically withdraws from the cluster.

Use the management VLAN only on the cluster and do not use the VLAN for other services such as the Rapid Ring Protection Protocol (RRPP) and multicast services. Otherwise, service functions will be adversely affected.
Example

# Change the management VLAN of the device to VLAN 2.

<HUAWEI> system-view

[HUAWEI] cluster

[HUAWEI-cluster] mngvlanid 2

ndp enable (interface view)
Function

The ndp enable command enables NDP on an interface.

The undo ndp enable command disables NDP on an interface.

The ndp disable command disables NDP on an interface.

By default, NDP is enabled on an interface.
Format

ndp enable

undo ndp enable

ndp disable
Parameters

None
Views

Ethernet interface view, GE interface view, XGE interface view, 25GE interface view, Eth-Trunk interface view, 100GE interface view, 40GE interface view, port group view, MultiGE interface view
Default Level

2: Configuration level
Usage Guidelines

Before you enable network topology collection, ensure that the NDP and NTDP functions have been enabled.
Example

# Disable NDP in the GE0/0/1 interface view.

<HUAWEI> system-view

[HUAWEI] interface gigabitethernet 0/0/1

[HUAWEI-GigabitEthernet0/0/1] undo ndp enable

ndp enable (system view)
Function

The ndp enable command enables NDP globally or on an interface.

The undo ndp enable command disables NDP globally or on an interface.

The ndp disable command disables NDP globally or on an interface.

By default, NDP is enabled globally.
Format

ndp enable [ interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10> ]

undo ndp enable [ interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10> ]

ndp disable interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10>

ndp disable
Parameters
Parameter 	Description 	Value

interface interface-type interface-number1 [ to interface-type interface-number2 ]
	

Specifies the interface on which NDP is enabled or disabled.

    interface-type interface-number1 indicates the type and number of the first interface.
    interface-type interface-number2 indicates the type and number of the last interface.

If you run the ndp enable command or the undo ndp enable command without specifying the interface, NDP is enabled or disabled globally.
	

-
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Usage Scenario

Before you enable network topology collection, ensure that the NDP and NTDP functions have been enabled..

Configuration Impact

If the ndp enable command is run more than once, all configurations take effect.
Example

# Enable NDP on the GE0/0/1 interface.

<HUAWEI> system-view

[HUAWEI] ndp enable interface gigabitethernet 0/0/1

ndp timer aging
Function

The ndp timer aging command configures an aging time for NDP entries on the receiving switch.

The undo ndp timer aging command restores the default aging time of NDP entries on the receiving switch.

By default, the aging time of the NDP entries on the receiving switch is 180 seconds.
Format

ndp timer aging aging-time

undo ndp timer aging
Parameters
Parameter 	Description 	Value
aging-time 	Specifies the aging time of the NDP entries on the receiving switch. 	The value is an integer that ranges from 6 to 255, in seconds.
Views

System view
Default Level

2: Configuration level
Usage Guidelines
Usage Scenario

If the receiving switch does not receive NDP packets from a local switch before the aging time of the NDP entry on the receiving switch expires, the receiving switch automatically deletes the neighbor entry corresponding to the local switch.
Prerequisites

NDP has been enabled on the receiving switch.
Precautions

The aging time of the NDP entries on the receiving switch must be greater than the interval for sending NDP packets.
Example

# Set the aging time of NDP entries to 175 seconds.

<HUAWEI> system-view

[HUAWEI] ndp timer aging 175

ndp timer hello
Function

The ndp timer hello command configures the interval for sending NDP packets.

The undo ndp timer hello command restores the default interval for sending NDP packets.

By default, the interval for sending NDP packets is 60 seconds.
Format

ndp timer hello interval

undo ndp timer hello
Parameters
Parameter 	Description 	Value
interval 	Specifies the interval for sending NDP packets. 	The value is an integer that ranges from 5 to 254, in seconds.
Views

System view
Default Level

2: Configuration level
Usage Guidelines
Usage Scenario

To configure an interval for sending NDP packets, run the ndp timer hello command. The NDP interface then sends NDP packets at the specified interval.
Prerequisites

NDP has been enabled on the switch.
Precautions

The interval for sending NDP packets must be less than the aging time of NDP entries on the receiving switch.
Example

# Set the interval for sending NDP packets to 55 seconds.

<HUAWEI> system-view

[HUAWEI] ndp timer hello 55

ndp trunk-member enable
Function

The ndp trunk-member enable command enables trunk member interface-based NDP.

The undo ndp trunk-member enable command disables trunk member interface-based NDP.

By default, trunk member interface-based NDP is disabled.
Format

ndp trunk-member enable

undo ndp trunk-member enable
Parameters

None
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Usage Scenario

If a local switch connects to a remote switch through a trunk link, the local switch discovers neighbors and displays NTDP topology information based on the trunk interface. To allow the local switch to obtain link information about trunk member interfaces, run the ndp trunk-member enable command to enable trunk member interface-based NDP. The topology information about the trunk member interfaces can then be queried on the NMS.

Prerequisites

NDP has been globally enabled using the ndp enable command in the system view.
Example

# Enable trunk member interface-based NDP.

<HUAWEI> system-view

[HUAWEI] ndp enable

[HUAWEI] ndp trunk-member enable

ntdp enable (interface view)

Function

The ntdp enable command enables NTDP on an interface.

The undo ntdp enable command disables NTDP on an interface.

The ntdp disable command disables NTDP on an interface.

By default, NTDP is enabled on an interface.
Format

ntdp enable

undo ntdp enable

ntdp disable
Parameters

None
Views

Ethernet interface view, GE interface view, XGE interface view, 25GE interface view, Eth-Trunk interface view, 100GE interface view, 40GE interface view, port group view, MultiGE interface view
Default Level

2: Configuration level
Usage Guidelines

Before you enable network topology collection, ensure that the NDP and NTDP functions have been enabled.
Example

# Disable NTDP in the GE0/0/1 interface view.

<HUAWEI> system-view

[HUAWEI] interface gigabitethernet 0/0/1

[HUAWEI-GigabitEthernet0/0/1] undo ntdp enable

ntdp enable (system view)

Function

The ntdp enable command enables NTDP globally.

The undo ntdp enable command disables NTDP globally.

The ntdp disable command disables NTDP globally.

By default, NTDP is enabled globally.
Format

ntdp enable

undo ntdp enable

ntdp disable
Parameters

None
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Before you enable network topology collection, ensure that the NDP and NTDP functions have been enabled.
Example

# Enable NTDP globally.

<HUAWEI> system-view

[HUAWEI] ntdp enable

ntdp explore
Function

The ntdp explore command enables you to manually collect topology information.
Format

ntdp explore
Parameters

None
Views

User view
Default Level

2: Configuration level
Usage Guidelines
Usage Scenario

You can run this command to initiate the process of collecting topology information on an NTDP-capable device. The NTDP-capable device can then effectively manage and monitor devices on the network in real time to reflect the network topology changes.

You can also run the ntdp timer command to allow a switch to automatically collect topology information at a specified interval.
Example

# Manually start topology information collection.

<HUAWEI> ntdp explore

ntdp hop
Function

The ntdp hop command sets the maximum number of hops for collecting topology information through NTDP.

The undo ntdp hop command restores the default maximum number of hops for collecting topology information through NTDP.

By default, the maximum number of hops is 8 for collecting topology information through NTDP.
Format

ntdp hop max-hop-value

undo ntdp hop
Parameters
Parameter 	Description 	Value
max-hop-value 	Specifies the maximum number of hops for collecting topology information through NTDP. 	The value is an integer that ranges from 1 to 8.
Views

System view
Default Level

2: Configuration level
Usage Guidelines
Usage Scenario

When the maximum number of hops for collecting topology information through NTDP is configured, topology information about switches in the hop range can be collected, which avoids collection of infinite topology information. The larger the maximum number of hops is, the more the memory of the topology collection switch is consumed.
Prerequisites

NTDP has been enabled on the switch.
Example

# Set the range for collecting topology information through NTDP to 5 hops.

<HUAWEI> system-view

[HUAWEI] ntdp hop 5

ntdp timer
Function

The ntdp timer command sets the interval for collecting topology information through NTDP.

The undo ntdp timer command restores the default interval for collecting topology information through NTDP.

By default, the interval for collecting topology information through NTDP is 0 minutes. That means that no topology information is periodically collected.
Format

ntdp timer interval

undo ntdp timer
Parameters
Parameter 	Description 	Value

interval
	

Specifies the interval for collecting topology information through NTDP.
	

The value is an integer that ranges from 0 to 65535, in minutes.
NOTE:

The Commander collects network topology information at an interval of 5 minutes; therefore, you are advised to set the interval for collecting topology information through NTDP to less than 5 minutes.
Views

System view
Default Level

2: Configuration level
Usage Guidelines

Usage Scenario

After the interval for collecting topology information through NTDP is set, the switch collects topology information at this interval.

Prerequisites

NTDP has been enabled on the switch.
Example

# Set the interval for collecting topology information to 2 minutes.

<HUAWEI> system-view

[HUAWEI] ntdp timer 2

ntdp timer hop-delay
Function

The ntdp timer hop-delay command sets a delay after which the first interface forwards NTDP topology request packets.

The undo ntdp timer hop-delay command restores the default delay.

By default, the first interface forwards NTDP topology request packets after a delay of 200 milliseconds.
Format

ntdp timer hop-delay hop-delay-time

undo ntdp timer hop-delay
Parameters
Parameter 	Description 	Value

hop-delay-time
	

Specifies the delay after which the first interface forwards NTDP topology request packets.
	

The value is an integer that ranges from 1 to 1000, in milliseconds.
Views

System view
Default Level

2: Configuration level
Usage Guidelines

This command takes effect only after NTDP is enabled on the switch.
Example

# Set the hop delay for forwarding NTDP topology request packets to 300 milliseconds.

<HUAWEI> system-view

[HUAWEI] ntdp timer hop-delay 300

ntdp timer port-delay
Function

The ntdp timer port-delay command sets a delay after which interfaces other than the first one forwards NTDP topology request packets.

The undo ntdp timer port-delay command restores the default delay.

By default, interfaces other than the first one forward NTDP topology request packets after a delay of 20 milliseconds.
Format

ntdp timer port-delay port-delay-time

undo ntdp timer port-delay
Parameters
Parameter 	Description 	Value
port-delay-time 	Specifies the delay after which interfaces other than the first one forward NTDP topology request packets. 	The value is an integer that ranges from 1 to 1000, in milliseconds.
Views

System view
Default Level

2: Configuration level
Usage Guidelines

The ntdp timer port-delay command takes effect only after NTDP is enabled on the switch.
Example

# Set the delay for interfaces other than the first one on the device to forward NTDP topology request packets to 40 milliseconds.

<HUAWEI> system-view

[HUAWEI] ntdp timer port-delay 40

patch
Function

The patch command specifies a patch file to be downloaded to clients.

The undo patch command deletes the configured patch file information.
Format

patch file-name

undo patch [ file-name ]
Parameters
Parameter 	Description 	Value

file-name
	

Specifies the name of a patch file to be downloaded to clients. The file name has an extension .pat and may contain a file path.
	

The value is a string of 5 to 48 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to load a patch file, specify the patch file on the Commander.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

Example

# Specify a default patch file for clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] patch easy/test.pat

# Specify a patch file in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] patch patch.pat

reset easy-operation client-database
Function

The reset easy-operation client-database command clears the client database on the Commander.
Format

reset easy-operation client-database
Parameters

None
Views

User view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

The client database contains client information that is manually configured by the administrator and learned dynamically by the Commander. When the number of clients in the client database exceeds the limit, information about new clients cannot be added to the database. To release space in the client database, use this command to clear the client database after confirming that the manually configured client information can be deleted.

Precautions

This command deletes both manually configured client information and dynamically learned client information. Before running this command, confirm that manually configured client information can be deleted. If the Commander is enabled to learn client information, it continues adding learned client information to the client database after you run this command.
Example

# Clear the client database on the Commander.

<HUAWEI> reset easy-operation client-database
Warning: All of the database information of client and relative replace in this 
device will be cleared. Continue?[Y/N]:y
<HUAWEI>

reset easy-operation client-offline
Function

The reset easy-operation client-offline command clears lost state clients.
Format

reset easy-operation client-offline
Parameters

None
Views

User view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

The maximum number of clients managed by the Commander depends on the device specifications. If the number of clients exceeds the upper limit, information about new clients cannot be configured on the Commander. Delete the clients in the lost state that occupy the database resources for a long time.
Precautions

    If the clients automatically join the management domain of the Commander, they can be deleted.
    If the clients are configured manually, they cannot be deleted but their status changes to unknown.
    If client replacement information is configured using the client replace command, client IDs in the client database will not be deleted.

Example

# Delete clients in the lost state from the client database.

<HUAWEI> reset easy-operation client-offline
Warning: All of clients which are in the lost status will be deleted. Continue?[Y/N]:y

reset ndp statistics
Function

The reset ndp statistics command clears NDP packet statistics from one or all the interfaces of a device.
Format

reset ndp statistics [ interface { interface-type interface-number1 [ to interface-type interface-number2 ] } &<1-10> ]
Parameters
Parameter 	Description 	Value
interface interface-type interface-number1 [ to interface-type interface-number2 ] 	
Clears NDP packet statistics from a specified interface.

    interface-type interface-number1 specifies the type and number of the first interface.
    interface-type interface-number2 indicates the type and number of the last interface.

When optional parameters are not specified, global statistics on NDP packets are cleared.
	-
Views

User view
Default Level

3: Management level
Usage Guidelines

If you run the reset ndp statistics command without setting optional parameters, the NDP packet statistics of all interfaces are cleared.
Example

# Delete NDP packet statistics from all the interfaces of the device.

<HUAWEI> reset ndp statistics

system-software
Function

The system-software command specifies the name and version of the system software package to be downloaded to clients.

The undo system-software deletes the configured software name and version.
Format

system-software file-name [ version ]

undo system-software [ file-name [ version ] ]
Parameters
Parameter 	Description 	Value

file-name
	

Specifies the name of a system software package to be downloaded to clients. The file name has an extension .cc and may contain a file path.
	

The value is a string of 4 to 48 case-insensitive characters without spaces. The string cannot contain the following characters: ~ * : ' " ? < > | [ ] % \ /.

version
	

Specifies the version of a system software package, for example, V200R024C00. If the specified software version is the same as the software version running on the client, a software upgrade will not be performed for the client.
	

The value is a string of 11 to 32 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to upgrade their system software, specify the required system software information on the Commander.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

Example

# Specify a default system software package for clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] system-software easy/sV200R024C00.cc

# Specify a system software package in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] system-software V200R024C00.cc V200R024C00

tftp-server/sftp-server/ftp-server
Function

The tftp-server command configures the TFTP server IP address on the Commander.

The sftp-server command configures the SFTP server IP address, user name, and password on the Commander.

The ftp-server command configures the FTP server IP address, user name, and password on the Commander.

The undo tftp-server command deletes the TFTP server IP address on the Commander.

The undo sftp-server command deletes the SFTP server IP address, user name, and password on the Commander.

The undo ftp-server command deletes the FTP server IP address, user name, and password on the Commander.

By default, no file server IP address, user name, or password is configured on the Commander.
Format

tftp-server ip-address

{ sftp-server | ftp-server } ip-address [ username username [ password password ] ]

undo tftp-server [ ip-address ]

undo { sftp-server | ftp-server } [ ip-address ] [ username username ] [ password password ]
Parameters
Parameter 	Description 	Value

ip-address
	

Specifies the IP address of a file server (TFTP, SFTP, or FTP server).
	

The value is in dotted decimal notation.

username username
	

Specifies the user name used to log in to the SFTP or FTP server.
	

The value is a string of 1 to 64 case-sensitive characters.

password password
	

Specifies the password used to log in to the SFTP or FTP server.
	

The value is a case-sensitive character string. A password in plain text contains 1 to 16 characters, and a ciphertext password contains 48 characters.

In the configuration file, the password is displayed in ciphertext regardless of whether it is input in plaintext or ciphertext.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

Files that need to be downloaded by clients are saved in a file server. After clients obtain information from the Commander about the necessary files, the clients download the files from the file server specified on the Commander. Therefore, the file server information must be configured on the Commander.

Precautions

    If the file server is an SFTP or FTP server and has a user name and password configured, configure the same user name and password on the Commander.
    Using an SFTP server is recommended because FTP and TFTP have security risks.
    Information about only one file server can be configured. If you run this command multiple times, only the latest configuration takes effect.
    Ensure that the files required for clients have been saved on the specified file server.

Example

# Specify the IP address, user name, and password of the SFTP server on the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] sftp-server 10.10.10.5 username easyoperation password YsHsjx_202206

# Specify the TFTP server IP address on the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] tftp-server 10.10.10.5

topology enable
Function

The topology enable command enables the Commander to collect network topology information.

The undo topology enable command disables the Commander from collecting network topology information.

By default, the Commander is disabled from collecting network topology information.
Format

topology enable

undo topology enable
Parameters

None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

You can run the topology enable command to enable the Commander to collect network topology information every 5 minutes. Based on the collected information, you can implement zero touch device deployment and automatic faulty device replacement.
Prerequisites

NDP and NTDP have been enabled.

The interval for collecting topology information through NTDP has been set.
Example

# Enable network topology information collection on the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] topology enable

topology save
Function

The topology save command saves network topology information collected by the Commander.
Format

topology save
Parameters

None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines
Usage Scenario

Network topology information collected by the Commander is saved only in the device memory. If the device restarts, the saved information is lost. You can run this command to save the collected network topology information in the flash memory and name it ezop-topo.xml.
Prerequisites

Network topology information collection has been enabled.
Precautions

If you run this command multiple times, only the latest configuration takes effect.
Example

# Save the current network topology information collected by the Commander.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] topology save
Warning: This command will record the information of topology. Continue? [Y/N]:y

undo group
Function

The undo group command deletes all groups.
Format

undo group
Parameters
None
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

This command deletes all the groups on a switch, including built-in groups and customized groups.
Example

# Delete all groups.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] undo group
Warning: All of the group configuration will be cleared. Continue?[Y/N]:y

upgrade group
Function

The upgrade group command starts a batch upgrade on the Commander.
Format

upgrade group [ group-name ] &<1-15>
Parameters
Parameter 	Description 	Value
group-name 	

Specifies a group name. The Commander starts a batch upgrade for all the clients that match the specified group.

A maximum of 15 groups can be specified for a batch upgraded. The group names are separated by a space.
	The value is a string of 1 to 31 case-sensitive characters without spaces. The character string must start with a letter.
Views

Easy-Operation view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

After the groups, files to be loaded, and file activation mode are specified on the Commander, you can run this command to start a batch upgrade for clients.

Precautions

    If group-name is not specified, a batch upgrade is performed on all clients matching all the groups on the Commander.

    Before running this command, ensure that configurations of the clients have been saved.

    If a client is a stack system, its system MAC address will change after the upgrade, because the master switch changes. In this case, the client ID of the stack system is displayed as LOST on the Commander. To avoid this problem, configure the stack system MAC address to the MAC address of a member switch.

Example

# Start a batch upgrade for clients matching all the groups.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] upgrade group
Warning: This command will start the upgrade process of all groups and clients i
n these groups may reboot. Ensure that configurations of the clients have been s
aved. Continue?[Y/N]:y

# Start a batch upgrade for clients matching specified groups.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] upgrade group test1 test2 test3
Warning: This command will start the upgrade process of the group and clients in
 this group may reboot. Ensure that configurations of the clients have been save
d. Continue?[Y/N]:y

web-file
Function

The web-file command specifies a web page file to be downloaded to clients.

The undo web-file command deletes the configured web page file information.
Format

web-file file-name

undo web-file [ file-name ]
Parameters
Parameter 	Description 	Value
file-name 	Specifies the name of a web page file to be downloaded to clients. The file name has an extension .web.7z or .web.zip and may contain a file path. 	The value is a string of 8 to 64 case-insensitive characters without spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When clients need to load a web page file, specify the web page file on the Commander.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

Example

# Specify a default web page file for clients.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] web-file easy/test.web.7z

# Specify a web page file in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] web-file test.web.7z

module
Function

The module command specifies a module file to be downloaded.

The undo module command deletes information about the module file to be downloaded.
Format

module file-name

undo module [ file-name ]
Parameters
Parameter 	Description 	Value

file-name
	

Specifies the name (*.mod) of a module file to be loaded to clients. The file path can be specified.
	

The value is a string of 5 to 48 case-insensitive characters. It cannot contain spaces.
Views

Easy-Operation view, Easy-Operation group view
Default Level

3: Management level
Usage Guidelines

Usage Scenario

When a client needs to load a module file, the module file needs to be specified.

Precautions
Information about the files to be downloaded can be set in the Easy-Operation view or Easy-Operation group view:

    The file information set in the Easy-Operation view is the default file information. If no file information is set in the group database or client database, the group or client uses the default file information.
    The files specified in the Easy-Operation group view can be downloaded by the clients that match the group.

Example

# Specify a default module file.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] module easy/test.mod

# Specify a module file in a MAC address-based group.

<HUAWEI> system-view
[HUAWEI] easy-operation
[HUAWEI-easyoperation] group custom mac-address test
[HUAWEI-easyoperation-group-custom-test] module test.mod